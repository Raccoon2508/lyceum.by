function ready(e){"loading"!=document.readyState?e():document.addEventListener?document.addEventListener("DOMContentLoaded",e):document.attachEvent("onreadystatechange",function(){"loading"!=document.readyState&&e()})}ready(function(){function e(e,t){if(window.File&&window.FileReader&&window.FileList&&window.Blob){this.element=e,this.input=$(this.element),this.wrapper=null,this.preview=null,this.filenameWrapper=null,this.settings=$.extend(!0,{defaultFile:"",maxFileSize:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,showRemove:!0,showLoader:!0,showErrors:!0,errorTimeout:3e3,errorsPosition:"overlay",imgFileExtensions:["png","jpg","jpeg","gif","bmp"],maxFileSizePreview:"20M",allowedFormats:["portrait","square","landscape"],allowedFileExtensions:["*"],messages:{default:"Кликните тут или перетащите сюда файл",replace:"Чтобы заменит картинку, кликните тут или перетащите сюда файл",remove:"Удалить",error:"Что-то пошло не так)"},error:{fileSize:"Слишком большой файл ({{ value }} - максимум).",fileExtension:"Неподходящий формат файла. Нам подходят только картинки форамта {{ value }}.",minWidth:"The image width is too small ({{ value }}}px min).",maxWidth:"The image width is too big ({{ value }}}px max).",minHeight:"The image height is too small ({{ value }}}px min).",maxHeight:"The image height is too big ({{ value }}px max).",imageFormat:"The image format is not allowed ({{ value }} only)."},tpl:{wrap:'<div class="dropify-wrapper"></div>',loader:'<div class="dropify-loader"></div>',message:'<div class="dropify-message"><span class="file-icon" /> <p>{{ default }}</p></div>',preview:'<div class="dropify-preview"><span class="dropify-render"></span><div class="dropify-infos"><div class="dropify-infos-inner"><p class="dropify-infos-message">{{ replace }}</p></div></div></div>',filename:'<p class="dropify-filename"><span class="file-icon"></span> <span class="dropify-filename-inner"></span></p>',clearButton:'<button type="button" class="dropify-clear">{{ remove }}</button>',errorLine:'<p class="dropify-error">{{ error }}</p>',errorsContainer:'<div class="dropify-errors-container"><ul></ul></div>'}},t,this.input.data()),this.errorsEvent=$.Event("dropify.errors"),this.isDisabled=!1,this.isInit=!1,this.file={object:null,name:null,size:null,width:null,height:null,type:null},Array.isArray(this.settings.allowedFormats)||(this.settings.allowedFormats=this.settings.allowedFormats.split(" ")),Array.isArray(this.settings.allowedFileExtensions)||(this.settings.allowedFileExtensions=this.settings.allowedFileExtensions.split(" ")),this.onChange=this.onChange.bind(this),this.clearElement=this.clearElement.bind(this),this.onFileReady=this.onFileReady.bind(this),this.translateMessages(),this.createElements(),this.setContainerSize(),this.errorsEvent.errors=[],this.input.on("change",this.onChange)}}return e.prototype.onChange=function(){this.resetPreview(),this.readFile(this.element)},e.prototype.createElements=function(){this.isInit=!0,this.input.wrap($(this.settings.tpl.wrap)),this.wrapper=this.input.parent();var e=$(this.settings.tpl.message).insertBefore(this.input);$(this.settings.tpl.errorLine).appendTo(e),!0===this.isTouchDevice()&&this.wrapper.addClass("touch-fallback"),this.input.attr("disabled")&&(this.isDisabled=!0,this.wrapper.addClass("disabled")),!0===this.settings.showLoader&&(this.loader=$(this.settings.tpl.loader),this.loader.insertBefore(this.input)),this.preview=$(this.settings.tpl.preview),this.preview.insertAfter(this.input),!1===this.isDisabled&&!0===this.settings.showRemove&&(this.clearButton=$(this.settings.tpl.clearButton),this.clearButton.insertAfter(this.input),this.clearButton.on("click",this.clearElement)),this.filenameWrapper=$(this.settings.tpl.filename),this.filenameWrapper.prependTo(this.preview.find(".dropify-infos-inner")),!0===this.settings.showErrors&&(this.errorsContainer=$(this.settings.tpl.errorsContainer),"outside"===this.settings.errorsPosition?this.errorsContainer.insertAfter(this.wrapper):this.errorsContainer.insertBefore(this.input));var t=this.settings.defaultFile||"";""!==t.trim()&&(this.file.name=this.cleanFilename(t),this.setPreview(this.isImage(),t))},e.prototype.readFile=function(e){if(e.files&&e.files[0]){var t=new FileReader,i=new Image,s=e.files[0],n=null,a=this,o=$.Event("dropify.fileReady");this.clearErrors(),this.showLoader(),this.setFileInformations(s),this.errorsEvent.errors=[],this.checkFileSize(),this.isFileExtensionAllowed(),this.isImage()&&this.file.size<this.sizeToByte(this.settings.maxFileSizePreview)?(this.input.on("dropify.fileReady",this.onFileReady),t.readAsDataURL(s),t.onload=function(e){n=e.target.result,i.src=e.target.result,i.onload=function(){a.setFileDimensions(this.width,this.height),a.validateImage(),a.input.trigger(o,[!0,n])}}.bind(this)):this.onFileReady(!1)}},e.prototype.onFileReady=function(e,t,i){if(this.input.off("dropify.fileReady",this.onFileReady),0===this.errorsEvent.errors.length)this.setPreview(t,i);else{this.input.trigger(this.errorsEvent,[this]);for(var s=this.errorsEvent.errors.length-1;s>=0;s--){var n=this.errorsEvent.errors[s].namespace.split(".").pop();this.showError(n)}if(void 0!==this.errorsContainer){this.errorsContainer.addClass("visible");var a=this.errorsContainer;setTimeout(function(){a.removeClass("visible")},this.settings.errorTimeout)}this.wrapper.addClass("has-error"),this.resetPreview(),this.clearElement()}},e.prototype.setFileInformations=function(e){this.file.object=e,this.file.name=e.name,this.file.size=e.size,this.file.type=e.type,this.file.width=null,this.file.height=null},e.prototype.setFileDimensions=function(e,t){this.file.width=e,this.file.height=t},e.prototype.setPreview=function(e,t){this.wrapper.removeClass("has-error").addClass("has-preview"),this.filenameWrapper.children(".dropify-filename-inner").html(this.file.name);var i=this.preview.children(".dropify-render");if(this.hideLoader(),!0===e){var s=$("<img />").attr("src",t);this.settings.height&&s.css("max-height",this.settings.height),s.appendTo(i)}else $("<i />").attr("class","dropify-font-file").appendTo(i),$('<span class="dropify-extension" />').html(this.getFileType()).appendTo(i);this.preview.fadeIn()},e.prototype.resetPreview=function(){this.wrapper.removeClass("has-preview");var e=this.preview.children(".dropify-render");e.find(".dropify-extension").remove(),e.find("i").remove(),e.find("img").remove(),this.preview.hide(),this.hideLoader()},e.prototype.cleanFilename=function(e){var t=e.split("\\").pop();return t==e&&(t=e.split("/").pop()),""!==e?t:""},e.prototype.clearElement=function(){if(0===this.errorsEvent.errors.length){var e=$.Event("dropify.beforeClear");this.input.trigger(e,[this]),!1!==e.result&&(this.resetFile(),this.input.val(""),this.resetPreview(),this.input.trigger($.Event("dropify.afterClear"),[this]))}else this.resetFile(),this.input.val(""),this.resetPreview()},e.prototype.resetFile=function(){this.file.object=null,this.file.name=null,this.file.size=null,this.file.type=null,this.file.width=null,this.file.height=null},e.prototype.setContainerSize=function(){this.settings.height&&this.wrapper.height(this.settings.height)},e.prototype.isTouchDevice=function(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0},e.prototype.getFileType=function(){return this.file.name.split(".").pop().toLowerCase()},e.prototype.isImage=function(){return"-1"!=this.settings.imgFileExtensions.indexOf(this.getFileType())},e.prototype.isFileExtensionAllowed=function(){return"-1"!=this.settings.allowedFileExtensions.indexOf("*")||"-1"!=this.settings.allowedFileExtensions.indexOf(this.getFileType())||(this.pushError("fileExtension"),!1)},e.prototype.translateMessages=function(){for(var e in this.settings.tpl)for(var t in this.settings.messages)this.settings.tpl[e]=this.settings.tpl[e].replace("{{ "+t+" }}",this.settings.messages[t])},e.prototype.checkFileSize=function(){0!==this.sizeToByte(this.settings.maxFileSize)&&this.file.size>this.sizeToByte(this.settings.maxFileSize)&&this.pushError("fileSize")},e.prototype.sizeToByte=function(e){var t=0;if(0!==e){var i=e.slice(-1).toUpperCase();"K"===i?t=1024*parseFloat(e):"M"===i?t=1048576*parseFloat(e):"G"===i&&(t=1073741824*parseFloat(e))}return t},e.prototype.validateImage=function(){0!==this.settings.minWidth&&this.settings.minWidth>=this.file.width&&this.pushError("minWidth"),0!==this.settings.maxWidth&&this.settings.maxWidth<=this.file.width&&this.pushError("maxWidth"),0!==this.settings.minHeight&&this.settings.minHeight>=this.file.height&&this.pushError("minHeight"),0!==this.settings.maxHeight&&this.settings.maxHeight<=this.file.height&&this.pushError("maxHeight"),"-1"==this.settings.allowedFormats.indexOf(this.getImageFormat())&&this.pushError("imageFormat")},e.prototype.getImageFormat=function(){return this.file.width==this.file.height?"square":this.file.width<this.file.height?"portrait":this.file.width>this.file.height?"landscape":void 0},e.prototype.pushError=function(e){var t=$.Event("dropify.error."+e);this.errorsEvent.errors.push(t),this.input.trigger(t,[this])},e.prototype.clearErrors=function(){void 0!==this.errorsContainer&&this.errorsContainer.children("ul").html("")},e.prototype.showError=function(e){void 0!==this.errorsContainer&&this.errorsContainer.children("ul").append("<li>"+this.getError(e)+"</li>")},e.prototype.getError=function(e){var t=this.settings.error[e],i="";return"fileSize"===e?i=this.settings.maxFileSize:"minWidth"===e?i=this.settings.minWidth:"maxWidth"===e?i=this.settings.maxWidth:"minHeight"===e?i=this.settings.minHeight:"maxHeight"===e?i=this.settings.maxHeight:"imageFormat"===e?i=this.settings.allowedFormats.join(", "):"fileExtension"===e&&(i=this.settings.allowedFileExtensions.join(", ")),""!==i?t.replace("{{ value }}",i):t},e.prototype.showLoader=function(){void 0!==this.loader&&this.loader.show()},e.prototype.hideLoader=function(){void 0!==this.loader&&this.loader.hide()},e.prototype.destroy=function(){this.input.siblings().remove(),this.input.unwrap(),this.isInit=!1},e.prototype.init=function(){this.createElements()},e.prototype.isDropified=function(){return this.isInit},$.fn.dropify=function(t){return this.each(function(){$.data(this,"dropify")||$.data(this,"dropify",new e(this,t))}),this},e});var componentHandler={upgradeDom:function(e,t){},upgradeElement:function(e,t){},upgradeElements:function(e){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(e,t){},register:function(e){},downgradeElements:function(e){}};(componentHandler=function(){"use strict";var e=[],t=[],i="mdlComponentConfigInternal_";function s(t,i){for(var s=0;s<e.length;s++)if(e[s].className===t)return void 0!==i&&(e[s]=i),e[s];return!1}function n(e){var t=e.getAttribute("data-upgraded");return null===t?[""]:t.split(",")}function a(e,t){return-1!==n(e).indexOf(t)}function o(t,i){if(void 0===t&&void 0===i)for(var n=0;n<e.length;n++)o(e[n].className,e[n].cssClass);else{var a=t;if(void 0===i){var l=s(a);l&&(i=l.cssClass)}for(var c=document.querySelectorAll("."+i),d=0;d<c.length;d++)r(c[d],a)}}function r(o,r){if(!("object"==typeof o&&o instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var l=n(o),c=[];if(r)a(o,r)||c.push(s(r));else{var d=o.classList;e.forEach(function(e){d.contains(e.cssClass)&&-1===c.indexOf(e)&&!a(o,e.className)&&c.push(e)})}for(var u,p=0,h=c.length;p<h;p++){if(!(u=c[p]))throw new Error("Unable to find a registered component for the given class.");l.push(u.className),o.setAttribute("data-upgraded",l.join(","));var f=new u.classConstructor(o);f[i]=u,t.push(f);for(var m=0,g=u.callbacks.length;m<g;m++)u.callbacks[m](o);u.widget&&(o[u.className]=f);var v=document.createEvent("Events");v.initEvent("mdl-componentupgraded",!0,!0),o.dispatchEvent(v)}}function l(e){if(e){var s=t.indexOf(e);t.splice(s,1);var n=e.element_.getAttribute("data-upgraded").split(","),a=n.indexOf(e[i].classAsString);n.splice(a,1),e.element_.setAttribute("data-upgraded",n.join(","));var o=document.createEvent("Events");o.initEvent("mdl-componentdowngraded",!0,!0),e.element_.dispatchEvent(o)}}return{upgradeDom:o,upgradeElement:r,upgradeElements:function e(t){Array.isArray(t)||(t="function"==typeof t.item?Array.prototype.slice.call(t):[t]);for(var i,s=0,n=t.length;s<n;s++)(i=t[s])instanceof HTMLElement&&(r(i),i.children.length>0&&e(i.children))},upgradeAllRegistered:function(){for(var t=0;t<e.length;t++)o(e[t].className)},registerUpgradedCallback:function(e,t){var i=s(e);i&&i.callbacks.push(t)},register:function(t){var n=!0;void 0===t.widget&&void 0===t.widget||(n=t.widget||t.widget);var a={classConstructor:t.constructor||t.constructor,className:t.classAsString||t.classAsString,cssClass:t.cssClass||t.cssClass,widget:n,callbacks:[]};if(e.forEach(function(e){if(e.cssClass===a.cssClass)throw new Error("The provided cssClass has already been registered: "+e.cssClass);if(e.className===a.className)throw new Error("The provided className has already been registered")}),t.constructor.prototype.hasOwnProperty(i))throw new Error("MDL component classes must not have "+i+" defined as a property.");s(t.classAsString,a)||e.push(a)},downgradeElements:function(e){var i=function(e){t.filter(function(t){return t.element_===e}).forEach(l)};if(e instanceof Array||e instanceof NodeList)for(var s=0;s<e.length;s++)i(e[s]);else{if(!(e instanceof Node))throw new Error("Invalid argument provided to downgrade MDL nodes.");i(e)}}}}()).ComponentConfigPublic,componentHandler.ComponentConfig,componentHandler.Component,componentHandler.upgradeDom=componentHandler.upgradeDom,componentHandler.upgradeElement=componentHandler.upgradeElement,componentHandler.upgradeElements=componentHandler.upgradeElements,componentHandler.upgradeAllRegistered=componentHandler.upgradeAllRegistered,componentHandler.registerUpgradedCallback=componentHandler.registerUpgradedCallback,componentHandler.register=componentHandler.register,componentHandler.downgradeElements=componentHandler.downgradeElements,window.componentHandler=componentHandler,window.componentHandler=componentHandler,ready(function(){"use strict";"classList"in document.documentElement&&"querySelector"in document&&"addEventListener"in window&&"forEach"in Array.prototype?(document.documentElement.classList.add("mdl-js"),componentHandler.upgradeAllRegistered()):(componentHandler.upgradeElement=function(){},componentHandler.register=function(){})}),function(){"use strict";var e=function(e){this.element_=e,this.init()};window.MaterialButton=e,e.prototype.Constant_={},e.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},e.prototype.blurHandler_=function(e){e&&this.element_.blur()},e.prototype.disable=function(){this.element_.disabled=!0},e.prototype.disable=e.prototype.disable,e.prototype.enable=function(){this.element_.disabled=!1},e.prototype.enable=e.prototype.enable,e.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var e=document.createElement("span");e.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),e.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(e)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},componentHandler.register({constructor:e,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0})}(),function(){"use strict";var e=function(e){this.element_=e,this.init()};function t(e,t){if(e){if(t.element_.classList.contains(t.CssClasses_.MDL_JS_RIPPLE_EFFECT)){var i=document.createElement("span");i.classList.add(t.CssClasses_.MDL_RIPPLE_CONTAINER),i.classList.add(t.CssClasses_.MDL_JS_RIPPLE_EFFECT);var s=document.createElement("span");s.classList.add(t.CssClasses_.MDL_RIPPLE),i.appendChild(s),e.appendChild(i)}e.addEventListener("click",function(i){if("#"===e.getAttribute("href").charAt(0)){i.preventDefault();var s=e.getAttribute("href").split("#")[1],n=t.element_.querySelector("#"+s);t.resetTabState_(),t.resetPanelState_(),e.classList.add(t.CssClasses_.ACTIVE_CLASS),n.classList.add(t.CssClasses_.ACTIVE_CLASS)}})}}window.MaterialTabs=e,e.prototype.Constant_={},e.prototype.CssClasses_={TAB_CLASS:"mdl-tabs__tab",PANEL_CLASS:"mdl-tabs__panel",ACTIVE_CLASS:"is-active",UPGRADED_CLASS:"is-upgraded",MDL_JS_RIPPLE_EFFECT:"mdl-js-ripple-effect",MDL_RIPPLE_CONTAINER:"mdl-tabs__ripple-container",MDL_RIPPLE:"mdl-ripple",MDL_JS_RIPPLE_EFFECT_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events"},e.prototype.initTabs_=function(){this.element_.classList.contains(this.CssClasses_.MDL_JS_RIPPLE_EFFECT)&&this.element_.classList.add(this.CssClasses_.MDL_JS_RIPPLE_EFFECT_IGNORE_EVENTS),this.tabs_=this.element_.querySelectorAll("."+this.CssClasses_.TAB_CLASS),this.panels_=this.element_.querySelectorAll("."+this.CssClasses_.PANEL_CLASS);for(var e=0;e<this.tabs_.length;e++)new t(this.tabs_[e],this);this.element_.classList.add(this.CssClasses_.UPGRADED_CLASS)},e.prototype.resetTabState_=function(){for(var e=0;e<this.tabs_.length;e++)this.tabs_[e].classList.remove(this.CssClasses_.ACTIVE_CLASS)},e.prototype.resetPanelState_=function(){for(var e=0;e<this.panels_.length;e++)this.panels_[e].classList.remove(this.CssClasses_.ACTIVE_CLASS)},e.prototype.init=function(){this.element_&&this.initTabs_()},componentHandler.register({constructor:e,classAsString:"MaterialTabs",cssClass:"mdl-js-tabs"})}(),function(){"use strict";var e=function(e){this.element_=e,this.init()};window.MaterialSpinner=e,e.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},e.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},e.prototype.createLayer=function(e){var t=document.createElement("div");t.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),t.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+e);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),i.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var s=document.createElement("div");s.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),n.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var a=[i,s,n],o=0;o<a.length;o++){var r=document.createElement("div");r.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),a[o].appendChild(r)}t.appendChild(i),t.appendChild(s),t.appendChild(n),this.element_.appendChild(t)},e.prototype.createLayer=e.prototype.createLayer,e.prototype.stop=function(){this.element_.classList.remove("is-active")},e.prototype.stop=e.prototype.stop,e.prototype.start=function(){this.element_.classList.add("is-active")},e.prototype.start=e.prototype.start,e.prototype.init=function(){if(this.element_){for(var e=1;e<=this.Constant_.MDL_SPINNER_LAYER_COUNT;e++)this.createLayer(e);this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:e,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0})}(),function(){"use strict";var e=function(e){this.element_=e,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()};window.MaterialTextfield=e,e.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},e.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},e.prototype.onKeyDown_=function(e){var t=e.target.value.split("\n").length;13===e.keyCode&&t>=this.maxRows&&e.preventDefault()},e.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},e.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},e.prototype.onReset_=function(e){this.updateClasses_()},e.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},e.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},e.prototype.checkDisabled=e.prototype.checkDisabled,e.prototype.checkFocus=function(){Boolean(this.element_.querySelector(":focus"))?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},e.prototype.checkFocus=e.prototype.checkFocus,e.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},e.prototype.checkValidity=e.prototype.checkValidity,e.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},e.prototype.checkDirty=e.prototype.checkDirty,e.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},e.prototype.disable=e.prototype.disable,e.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},e.prototype.enable=e.prototype.enable,e.prototype.change=function(e){this.input_.value=e||"",this.updateClasses_()},e.prototype.change=e.prototype.change,e.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var e=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),e&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},componentHandler.register({constructor:e,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0})}(),function(){"use strict";var e=function(e){this.element_=e,this.init()};window.MaterialMenu=e,e.prototype.Constant_={TRANSITION_DURATION_SECONDS:.3,TRANSITION_DURATION_FRACTION:.8,CLOSE_TIMEOUT:150},e.prototype.Keycodes_={ENTER:13,ESCAPE:27,SPACE:32,UP_ARROW:38,DOWN_ARROW:40},e.prototype.CssClasses_={CONTAINER:"mdl-menu__container",OUTLINE:"mdl-menu__outline",ITEM:"mdl-menu__item",ITEM_RIPPLE_CONTAINER:"mdl-menu__item-ripple-container",RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",RIPPLE:"mdl-ripple",IS_UPGRADED:"is-upgraded",IS_VISIBLE:"is-visible",IS_ANIMATING:"is-animating",BOTTOM_LEFT:"mdl-menu--bottom-left",BOTTOM_RIGHT:"mdl-menu--bottom-right",TOP_LEFT:"mdl-menu--top-left",TOP_RIGHT:"mdl-menu--top-right",UNALIGNED:"mdl-menu--unaligned"},e.prototype.init=function(){if(this.element_){var e=document.createElement("div");e.classList.add(this.CssClasses_.CONTAINER),this.element_.parentElement.insertBefore(e,this.element_),this.element_.parentElement.removeChild(this.element_),e.appendChild(this.element_),this.container_=e;var t=document.createElement("div");t.classList.add(this.CssClasses_.OUTLINE),this.outline_=t,e.insertBefore(t,this.element_);var i=this.element_.getAttribute("for")||this.element_.getAttribute("data-mdl-for"),s=null;i&&(s=document.getElementById(i))&&(this.forElement_=s,s.addEventListener("click",this.handleForClick_.bind(this)),s.addEventListener("keydown",this.handleForKeyboardEvent_.bind(this)));var n=this.element_.querySelectorAll("."+this.CssClasses_.ITEM);this.boundItemKeydown_=this.handleItemKeyboardEvent_.bind(this),this.boundItemClick_=this.handleItemClick_.bind(this);for(var a=0;a<n.length;a++)n[a].addEventListener("click",this.boundItemClick_),n[a].tabIndex="-1",n[a].addEventListener("keydown",this.boundItemKeydown_);if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT))for(this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS),a=0;a<n.length;a++){var o=n[a],r=document.createElement("span");r.classList.add(this.CssClasses_.ITEM_RIPPLE_CONTAINER);var l=document.createElement("span");l.classList.add(this.CssClasses_.RIPPLE),r.appendChild(l),o.appendChild(r),o.classList.add(this.CssClasses_.RIPPLE_EFFECT)}this.element_.classList.contains(this.CssClasses_.BOTTOM_LEFT)&&this.outline_.classList.add(this.CssClasses_.BOTTOM_LEFT),this.element_.classList.contains(this.CssClasses_.BOTTOM_RIGHT)&&this.outline_.classList.add(this.CssClasses_.BOTTOM_RIGHT),this.element_.classList.contains(this.CssClasses_.TOP_LEFT)&&this.outline_.classList.add(this.CssClasses_.TOP_LEFT),this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)&&this.outline_.classList.add(this.CssClasses_.TOP_RIGHT),this.element_.classList.contains(this.CssClasses_.UNALIGNED)&&this.outline_.classList.add(this.CssClasses_.UNALIGNED),e.classList.add(this.CssClasses_.IS_UPGRADED)}},e.prototype.handleForClick_=function(e){if(this.element_&&this.forElement_){var t=this.forElement_.getBoundingClientRect(),i=this.forElement_.parentElement.getBoundingClientRect();this.element_.classList.contains(this.CssClasses_.UNALIGNED)||(this.element_.classList.contains(this.CssClasses_.BOTTOM_RIGHT)?(this.container_.style.right=i.right-t.right+"px",this.container_.style.top=this.forElement_.offsetTop+this.forElement_.offsetHeight+"px"):this.element_.classList.contains(this.CssClasses_.TOP_LEFT)?(this.container_.style.left=this.forElement_.offsetLeft+"px",this.container_.style.bottom=i.bottom-t.top+"px"):this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)?(this.container_.style.right=i.right-t.right+"px",this.container_.style.bottom=i.bottom-t.top+"px"):(this.container_.style.left=this.forElement_.offsetLeft+"px",this.container_.style.top=this.forElement_.offsetTop+this.forElement_.offsetHeight+"px"))}this.toggle(e)},e.prototype.handleForKeyboardEvent_=function(e){if(this.element_&&this.container_&&this.forElement_){var t=this.element_.querySelectorAll("."+this.CssClasses_.ITEM+":not([disabled])");t&&t.length>0&&this.container_.classList.contains(this.CssClasses_.IS_VISIBLE)&&(e.keyCode===this.Keycodes_.UP_ARROW?(e.preventDefault(),t[t.length-1].focus()):e.keyCode===this.Keycodes_.DOWN_ARROW&&(e.preventDefault(),t[0].focus()))}},e.prototype.handleItemKeyboardEvent_=function(e){if(this.element_&&this.container_){var t=this.element_.querySelectorAll("."+this.CssClasses_.ITEM+":not([disabled])");if(t&&t.length>0&&this.container_.classList.contains(this.CssClasses_.IS_VISIBLE)){var i=Array.prototype.slice.call(t).indexOf(e.target);if(e.keyCode===this.Keycodes_.UP_ARROW)e.preventDefault(),i>0?t[i-1].focus():t[t.length-1].focus();else if(e.keyCode===this.Keycodes_.DOWN_ARROW)e.preventDefault(),t.length>i+1?t[i+1].focus():t[0].focus();else if(e.keyCode===this.Keycodes_.SPACE||e.keyCode===this.Keycodes_.ENTER){e.preventDefault();var s=new MouseEvent("mousedown");e.target.dispatchEvent(s),s=new MouseEvent("mouseup"),e.target.dispatchEvent(s),e.target.click()}else e.keyCode===this.Keycodes_.ESCAPE&&(e.preventDefault(),this.hide())}}},e.prototype.handleItemClick_=function(e){e.target.hasAttribute("disabled")?e.stopPropagation():(this.closing_=!0,window.setTimeout(function(e){this.hide(),this.closing_=!1}.bind(this),this.Constant_.CLOSE_TIMEOUT))},e.prototype.applyClip_=function(e,t){this.element_.classList.contains(this.CssClasses_.UNALIGNED)?this.element_.style.clip="":this.element_.classList.contains(this.CssClasses_.BOTTOM_RIGHT)?this.element_.style.clip="rect(0 "+t+"px 0 "+t+"px)":this.element_.classList.contains(this.CssClasses_.TOP_LEFT)?this.element_.style.clip="rect("+e+"px 0 "+e+"px 0)":this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)?this.element_.style.clip="rect("+e+"px "+t+"px "+e+"px "+t+"px)":this.element_.style.clip=""},e.prototype.removeAnimationEndListener_=function(t){t.target.classList.remove(e.prototype.CssClasses_.IS_ANIMATING)},e.prototype.addAnimationEndListener_=function(){this.element_.addEventListener("transitionend",this.removeAnimationEndListener_),this.element_.addEventListener("webkitTransitionEnd",this.removeAnimationEndListener_)},e.prototype.show=function(e){if(this.element_&&this.container_&&this.outline_){var t=this.element_.getBoundingClientRect().height,i=this.element_.getBoundingClientRect().width;this.container_.style.width=i+"px",this.container_.style.height=t+"px",this.outline_.style.width=i+"px",this.outline_.style.height=t+"px";for(var s=this.Constant_.TRANSITION_DURATION_SECONDS*this.Constant_.TRANSITION_DURATION_FRACTION,n=this.element_.querySelectorAll("."+this.CssClasses_.ITEM),a=0;a<n.length;a++){var o=null;o=this.element_.classList.contains(this.CssClasses_.TOP_LEFT)||this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)?(t-n[a].offsetTop-n[a].offsetHeight)/t*s+"s":n[a].offsetTop/t*s+"s",n[a].style.transitionDelay=o}this.applyClip_(t,i),window.requestAnimationFrame(function(){this.element_.classList.add(this.CssClasses_.IS_ANIMATING),this.element_.style.clip="rect(0 "+i+"px "+t+"px 0)",this.container_.classList.add(this.CssClasses_.IS_VISIBLE)}.bind(this)),this.addAnimationEndListener_();var r=function(t){t===e||this.closing_||t.target.parentNode===this.element_||(document.removeEventListener("click",r),this.hide())}.bind(this);document.addEventListener("click",r)}},e.prototype.show=e.prototype.show,e.prototype.hide=function(){if(this.element_&&this.container_&&this.outline_){for(var e=this.element_.querySelectorAll("."+this.CssClasses_.ITEM),t=0;t<e.length;t++)e[t].style.removeProperty("transition-delay");var i=this.element_.getBoundingClientRect(),s=i.height,n=i.width;this.element_.classList.add(this.CssClasses_.IS_ANIMATING),this.applyClip_(s,n),this.container_.classList.remove(this.CssClasses_.IS_VISIBLE),this.addAnimationEndListener_()}},e.prototype.hide=e.prototype.hide,e.prototype.toggle=function(e){this.container_.classList.contains(this.CssClasses_.IS_VISIBLE)?this.hide():this.show(e)},e.prototype.toggle=e.prototype.toggle,componentHandler.register({constructor:e,classAsString:"MaterialMenu",cssClass:"mdl-js-menu",widget:!0})}(),function(){"use strict";var e=function(e){this.element_=e,this.init()};window.MaterialCheckbox=e,e.prototype.Constant_={TINY_TIMEOUT:.001},e.prototype.CssClasses_={INPUT:"mdl-checkbox__input",BOX_OUTLINE:"mdl-checkbox__box-outline",FOCUS_HELPER:"mdl-checkbox__focus-helper",TICK_OUTLINE:"mdl-checkbox__tick-outline",RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",RIPPLE_CONTAINER:"mdl-checkbox__ripple-container",RIPPLE_CENTER:"mdl-ripple--center",RIPPLE:"mdl-ripple",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_CHECKED:"is-checked",IS_UPGRADED:"is-upgraded"},e.prototype.onChange_=function(e){this.updateClasses_()},e.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},e.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},e.prototype.onMouseUp_=function(e){this.blur_()},e.prototype.updateClasses_=function(){this.checkDisabled(),this.checkToggleState()},e.prototype.blur_=function(){window.setTimeout(function(){this.inputElement_.blur()}.bind(this),this.Constant_.TINY_TIMEOUT)},e.prototype.checkToggleState=function(){this.inputElement_.checked?this.element_.classList.add(this.CssClasses_.IS_CHECKED):this.element_.classList.remove(this.CssClasses_.IS_CHECKED)},e.prototype.checkToggleState=e.prototype.checkToggleState,e.prototype.checkDisabled=function(){this.inputElement_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},e.prototype.checkDisabled=e.prototype.checkDisabled,e.prototype.disable=function(){this.inputElement_.disabled=!0,this.updateClasses_()},e.prototype.disable=e.prototype.disable,e.prototype.enable=function(){this.inputElement_.disabled=!1,this.updateClasses_()},e.prototype.enable=e.prototype.enable,e.prototype.check=function(){this.inputElement_.checked=!0,this.updateClasses_()},e.prototype.check=e.prototype.check,e.prototype.uncheck=function(){this.inputElement_.checked=!1,this.updateClasses_()},e.prototype.uncheck=e.prototype.uncheck,e.prototype.init=function(){if(this.element_){this.inputElement_=this.element_.querySelector("."+this.CssClasses_.INPUT);var e=document.createElement("span");e.classList.add(this.CssClasses_.BOX_OUTLINE);var t=document.createElement("span");t.classList.add(this.CssClasses_.FOCUS_HELPER);var i=document.createElement("span");if(i.classList.add(this.CssClasses_.TICK_OUTLINE),e.appendChild(i),this.element_.appendChild(t),this.element_.appendChild(e),this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS),this.rippleContainerElement_=document.createElement("span"),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_EFFECT),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CENTER),this.boundRippleMouseUp=this.onMouseUp_.bind(this),this.rippleContainerElement_.addEventListener("mouseup",this.boundRippleMouseUp);var s=document.createElement("span");s.classList.add(this.CssClasses_.RIPPLE),this.rippleContainerElement_.appendChild(s),this.element_.appendChild(this.rippleContainerElement_)}this.boundInputOnChange=this.onChange_.bind(this),this.boundInputOnFocus=this.onFocus_.bind(this),this.boundInputOnBlur=this.onBlur_.bind(this),this.boundElementMouseUp=this.onMouseUp_.bind(this),this.inputElement_.addEventListener("change",this.boundInputOnChange),this.inputElement_.addEventListener("focus",this.boundInputOnFocus),this.inputElement_.addEventListener("blur",this.boundInputOnBlur),this.element_.addEventListener("mouseup",this.boundElementMouseUp),this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED)}},componentHandler.register({constructor:e,classAsString:"MaterialCheckbox",cssClass:"mdl-js-checkbox",widget:!0})}(),function(){"use strict";var e=function(e){this.element_=e,this.setDefaults_(),this.init()};window.MaterialSelectfield=e,e.prototype.CssClasses_={LABEL:"mdl-selectfield__label",SELECT:"mdl-selectfield__select",SELECTED_BOX:"mdl-selectfield__box",SELECTED_BOX_VALUE:"mdl-selectfield__box-value",LIST_OPTION_BOX:"mdl-selectfield__list-option-box",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",IS_SELECTED:"is-selected"},e.prototype.Keycodes_={ENTER:13,ESCAPE:27,SPACE:32,UP_ARROW:38,DOWN_ARROW:40},e.prototype.setDefaults_=function(){this.options_=[],this.optionsMap_={},this.optionsArr_=[],this.closing_=!0,this.keyDownTimerId_=null,this.observer_=null},e.prototype.onFocus_=function(e){this.closing_&&this.show_(e)},e.prototype.onBlur_=function(e){!this.closing_&&this.hide_()},e.prototype.onSelected_=function(e){if(e.target&&"LI"==e.target.nodeName){var t,i,s=this.options_[e.target.getAttribute("data-value")];if(s.disabled)return e.stopPropagation(),!1;if(this.selectedOptionValue_.textContent=s.textContent,s.selected=!0,"function"==typeof window.Event?t=new Event("change",{bubbles:!0,cancelable:!0}):"function"==typeof document.createEvent&&(t=document.createEvent("HTMLEvents")).initEvent("change",!0,!0),t&&this.select_.dispatchEvent(t),""!==s.textContent)this.element_.classList.add(this.CssClasses_.IS_DIRTY),(i=this.listOptionBox_.querySelector("."+this.CssClasses_.IS_SELECTED))&&i.classList.remove(this.CssClasses_.IS_SELECTED),e.target.classList.add(this.CssClasses_.IS_SELECTED);else this.element_.classList.remove(this.CssClasses_.IS_DIRTY),(i=this.listOptionBox_.querySelector("."+this.CssClasses_.IS_SELECTED))&&i.classList.remove(this.CssClasses_.IS_SELECTED)}},e.prototype.onClick_=function(e){this.toggle(e)},e.prototype.update_=function(){if(this.options_&&this.options_.length>0)for(var e=0;e<this.options_.length;e++){var t=this.options_[e];if(t.selected&&""!==t.value){var i=!0;this.element_.classList.add(this.CssClasses_.IS_DIRTY),this.listOptionBox_.querySelector("."+this.CssClasses_.IS_SELECTED).classList.remove(this.CssClasses_.IS_SELECTED),this.listOptionBox_.querySelectorAll("LI")[e].classList.add(this.CssClasses_.IS_SELECTED)}}i||this.element_.classList.remove(this.CssClasses_.IS_DIRTY),this.checkDisabled(),this.checkValidity()},e.prototype.checkValidity=function(){this.select_.validity&&(this.select_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},e.prototype.checkValidity=e.prototype.checkValidity,e.prototype.checkDisabled=function(){this.select_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},e.prototype.checkDisabled=e.prototype.checkDisabled,e.prototype.disable=function(){this.select_.disabled=!0,this.update_()},e.prototype.disable=e.prototype.disable,e.prototype.enable=function(){this.select_.disabled=!1,this.update_()},e.prototype.enable=e.prototype.enable,e.prototype.isDescendant_=function(e,t){for(var i=t.parentNode;null!=i;){if(i==e)return!0;i=i.parentNode}return!1},e.prototype.toggle=function(e){this.element_.classList.contains(this.CssClasses_.IS_FOCUSED)?e.target&&"LI"==e.target.nodeName&&this.isDescendant_(this.listOptionBox_,e.target)?this.onSelected_(e):this.hide_():this.show_(e)},e.prototype.show_=function(e){if(this.checkDisabled(),!this.element_.classList.contains(this.CssClasses_.IS_DISABLED)){this.element_.classList.add(this.CssClasses_.IS_FOCUSED),this.closing_=!1,this.strSearch_="";var t=this.listOptionBox_&&this.listOptionBox_.querySelector("."+this.CssClasses_.IS_SELECTED);t&&(t.parentElement.parentElement.scrollTop=t.offsetTop),this.boundKeyDownHandler_=this.onKeyDown_.bind(this),this.boundClickDocHandler_=function(t){t===e||this.closing_||t.target.parentNode===this.element_||t.target.parentNode===this.selectedOption_||this.hide_()}.bind(this),document.addEventListener("keydown",this.boundKeyDownHandler_),document.addEventListener("click",this.boundClickDocHandler_)}},e.prototype.onKeyDown_=function(e){var t=this.listOptionBox_.querySelectorAll("li:not([disabled])");if(t&&t.length>0&&!this.closing_){var i,s=Array.prototype.slice.call(t).indexOf(this.listOptionBox_.querySelectorAll("."+this.CssClasses_.IS_SELECTED)[0]);if(e.keyCode===this.Keycodes_.UP_ARROW||e.keyCode===this.Keycodes_.DOWN_ARROW)-1!=s&&t[s].classList.remove(this.CssClasses_.IS_SELECTED),e.keyCode===this.Keycodes_.UP_ARROW?(e.preventDefault(),i=s>0?t[s-1]:t[t.length-1]):(e.preventDefault(),i=t.length>s+1?t[s+1]:t[0]),i&&(i.classList.add(this.CssClasses_.IS_SELECTED),this.listOptionBox_.scrollTop=i.offsetTop,this.lastSelectedItem_=i);else if(e.keyCode!==this.Keycodes_.SPACE&&e.keyCode!==this.Keycodes_.ENTER||!this.lastSelectedItem_){if(e.keyCode===this.Keycodes_.ESCAPE){e.preventDefault(),document.createEvent?(o=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null):o=new MouseEvent("mousedown"),document.body.dispatchEvent(o),document.createEvent||(o=new MouseEvent("mouseup"),document.body.dispatchEvent(o)),document.body.click()}else if(this.validKeyCode_(e.keyCode)){var n=e.which||e.keyCode;this.strSearch_+=String.fromCharCode(n),this.keyDownTimerId_&&clearTimeout(this.keyDownTimerId_),this.keyDownTimerId_=setTimeout(function(){this.keyDownTimerId_=null,this.strSearch_=""}.bind(this),300);var a=this.searchByStrIndex_(0);a>-1&&(-1!=s&&t[s].classList.remove(this.CssClasses_.IS_SELECTED),(i=t[a]).classList.add(this.CssClasses_.IS_SELECTED),this.listOptionBox_.scrollTop=i.offsetTop,this.lastSelectedItem_=i)}}else{var o;e.preventDefault(),document.createEvent?(o=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null):o=new MouseEvent("mousedown"),this.lastSelectedItem_.dispatchEvent(o),document.createEvent||(o=new MouseEvent("mouseup"),this.lastSelectedItem_.dispatchEvent(o))}}},e.prototype.searchByStrIndex_=function(e){for(var t=this.strSearch_,i=new RegExp("^"+t+"."),s=-1,n=this.optionsArr_,a=0;a<n.length;a++)if(i.test(n[a])){s=a;break}return-1!=s?this.optionsMap_[this.optionsArr_[s]]:-1},e.prototype.validKeyCode_=function(e){return e>47&&e<58||32==e||13==e||e>64&&e<91||e>95&&e<112||e>185&&e<193||e>218&&e<223},e.prototype.hide_=function(){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED),this.closing_=!0,this.strSearch_="",this.boundClickDocHandler_&&document.removeEventListener("click",this.boundClickDocHandler_),this.boundKeyDownHandler_&&document.removeEventListener("keydown",this.boundKeyDownHandler_),this.update_()},e.prototype.init=function(){if(this.element_){this.element_.classList.remove(this.CssClasses_.IS_DIRTY),this.lastSelectedItem_=null,this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.select_=this.element_.querySelector("."+this.CssClasses_.SELECT);var e=document.createElement("div");e.classList.add(this.CssClasses_.SELECTED_BOX),e.tabIndex=1,this.selectedOption_=e;var t=document.createElement("i");t.classList.add("material-icons"),t.tabIndex=-1,t.textContent="arrow_drop_down",e.appendChild(t);var i=document.createElement("span");i.classList.add(this.CssClasses_.SELECTED_BOX_VALUE),i.tabIndex=-1,e.appendChild(i),this.selectedOptionValue_=i,this.element_.appendChild(this.selectedOption_);var s=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.makeElements_(),this.boundClickHandler=this.onClick_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.element_.addEventListener("click",this.boundClickHandler),this.select_.addEventListener("focus",this.boundFocusHandler),this.select_.addEventListener("blur",this.boundBlurHandler),s&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.checkDisabled()}},e.prototype.refreshOptions=function(){this.mdlDowngrade_(),this.setDefaults_(),this.init()},e.prototype.clearElements_=function(){},e.prototype.makeElements_=function(){if(this.select_&&(this.options_=this.select_.querySelectorAll("option"),this.select_.style.opacity="0",this.select_.style.zIndex="-1",0==this.options_.length&&(this.options_=[document.createElement("option")]),this.options_.length)){var e=document.createElement("div"),t='<ul tabindex="-1">',i="";e.classList.add(this.CssClasses_.LIST_OPTION_BOX),e.tabIndex="-1";for(var s=0;s<this.options_.length;s++){var n=this.options_[s],a=(n.textContent||"").toUpperCase().replace(/( )|(\n)/g,""),o="";this.optionsMap_[a]=s,this.optionsArr_.push(a),n.selected&&""!==n.textContent&&(this.element_.classList.add(this.CssClasses_.IS_DIRTY),this.selectedOptionValue_.textContent=n.textContent,o+=this.CssClasses_.IS_SELECTED),n.disabled&&(o+=""!=o?" "+this.CssClasses_.IS_DISABLED:this.CssClasses_.IS_DISABLED),i+='<li class="'+o+'" data-value="'+s+'" tabindex="-1">'+n.textContent+"</li>"}t+=i+"</ul>",e.innerHTML=t,this.element_.appendChild(e),this.listOptionBox_=e,window.MutationObserver&&(this.observer_=new MutationObserver(function(e){e.forEach(function(e){"childList"==e.type&&this.refreshOptions()}.bind(this))}.bind(this)),this.observer_.observe(this.select_,{attributes:!0,childList:!0,characterData:!0}))}},e.prototype.mdlDowngrade_=function(){this.element_.removeEventListener("click",this.boundClickHandler),this.select_.removeEventListener("focus",this.boundFocusHandler),this.select_.removeEventListener("blur",this.boundBlurHandler),this.listOptionBox_&&this.element_.removeChild(this.listOptionBox_),this.selectedOption_&&this.element_.removeChild(this.selectedOption_),this.element_.removeAttribute("data-upgraded"),this.select_.style.opacity="1",this.select_.style.zIndex="inherit",this.observer_&&this.observer_.disconnect()},e.prototype.mdlDowngrade=e.prototype.mdlDowngrade_,e.prototype.mdlDowngrade=e.prototype.mdlDowngrade,componentHandler.register({constructor:e,classAsString:"MaterialSelectfield",cssClass:"mdl-js-selectfield",widget:!0})}(),function(){"use strict";var e=function(e){this.element_=e,this.init()};window.MaterialRipple=e,e.prototype.Constant_={INITIAL_SCALE:"scale(0.0001, 0.0001)",INITIAL_SIZE:"1px",INITIAL_OPACITY:"0.4",FINAL_OPACITY:"0",FINAL_SCALE:""},e.prototype.CssClasses_={RIPPLE_CENTER:"mdl-ripple--center",RIPPLE_EFFECT_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",RIPPLE:"mdl-ripple",IS_ANIMATING:"is-animating",IS_VISIBLE:"is-visible"},e.prototype.downHandler_=function(e){if(!this.rippleElement_.style.width&&!this.rippleElement_.style.height){var t=this.element_.getBoundingClientRect();this.boundHeight=t.height,this.boundWidth=t.width,this.rippleSize_=2*Math.sqrt(t.width*t.width+t.height*t.height)+2,this.rippleElement_.style.width=this.rippleSize_+"px",this.rippleElement_.style.height=this.rippleSize_+"px"}if(this.rippleElement_.classList.add(this.CssClasses_.IS_VISIBLE),"mousedown"===e.type&&this.ignoringMouseDown_)this.ignoringMouseDown_=!1;else{if("touchstart"===e.type&&(this.ignoringMouseDown_=!0),this.getFrameCount()>0)return;this.setFrameCount(1);var i,s,n=e.currentTarget.getBoundingClientRect();if(0===e.clientX&&0===e.clientY)i=Math.round(n.width/2),s=Math.round(n.height/2);else{var a=e.clientX?e.clientX:e.touches[0].clientX,o=e.clientY?e.clientY:e.touches[0].clientY;i=Math.round(a-n.left),s=Math.round(o-n.top)}this.setRippleXY(i,s),this.setRippleStyles(!0),requestAnimationFrame(this.animFrameHandler.bind(this))}},e.prototype.upHandler_=function(e){e&&2!==e.detail&&window.setTimeout(function(){this.rippleElement_.classList.remove(this.CssClasses_.IS_VISIBLE)}.bind(this),0)},e.prototype.init=function(){if(this.element_){var e=this.element_.classList.contains(this.CssClasses_.RIPPLE_CENTER);this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT_IGNORE_EVENTS)||(this.rippleElement_=this.element_.querySelector("."+this.CssClasses_.RIPPLE),this.frameCount_=0,this.rippleSize_=0,this.x_=0,this.y_=0,this.ignoringMouseDown_=!1,this.boundDownHandler=this.downHandler_.bind(this),this.element_.addEventListener("mousedown",this.boundDownHandler),this.element_.addEventListener("touchstart",this.boundDownHandler),this.boundUpHandler=this.upHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundUpHandler),this.element_.addEventListener("mouseleave",this.boundUpHandler),this.element_.addEventListener("touchend",this.boundUpHandler),this.element_.addEventListener("blur",this.boundUpHandler),this.getFrameCount=function(){return this.frameCount_},this.setFrameCount=function(e){this.frameCount_=e},this.getRippleElement=function(){return this.rippleElement_},this.setRippleXY=function(e,t){this.x_=e,this.y_=t},this.setRippleStyles=function(t){if(null!==this.rippleElement_){var i,s,n="translate("+this.x_+"px, "+this.y_+"px)";t?s=this.Constant_.INITIAL_SCALE:(s=this.Constant_.FINAL_SCALE,e&&(n="translate("+this.boundWidth/2+"px, "+this.boundHeight/2+"px)")),i="translate(-50%, -50%) "+n+s,this.rippleElement_.style.webkitTransform=i,this.rippleElement_.style.msTransform=i,this.rippleElement_.style.transform=i,t?this.rippleElement_.classList.remove(this.CssClasses_.IS_ANIMATING):this.rippleElement_.classList.add(this.CssClasses_.IS_ANIMATING)}},this.animFrameHandler=function(){this.frameCount_-- >0?requestAnimationFrame(this.animFrameHandler.bind(this)):this.setRippleStyles(!1)})}},componentHandler.register({constructor:e,classAsString:"MaterialRipple",cssClass:"mdl-js-ripple-effect",widget:!1})}(),function(){"use strict";var e=function(e){if(this.element_=e,this.textElement_=this.element_.querySelector("."+this.cssClasses_.MESSAGE),this.actionElement_=this.element_.querySelector("."+this.cssClasses_.ACTION),!this.textElement_)throw new Error("There must be a message element for a snackbar.");if(!this.actionElement_)throw new Error("There must be an action element for a snackbar.");this.active=!1,this.actionHandler_=void 0,this.message_=void 0,this.actionText_=void 0,this.timeoutID_=void 0,this.queuedNotifications_=[],this.setActionHidden_(!0)};window.MaterialSnackbar=e,e.prototype.Constant_={ANIMATION_LENGTH:250},e.prototype.cssClasses_={SNACKBAR:"mdl-snackbar",MESSAGE:"mdl-snackbar__text",ACTION:"mdl-snackbar__action",ACTIVE:"mdl-snackbar--active"},e.prototype.displaySnackbar_=function(){this.element_.setAttribute("aria-hidden","true"),this.actionHandler_&&(this.actionElement_.textContent=this.actionText_,this.actionElement_.addEventListener("click",this.actionHandler_),this.setActionHidden_(!1)),this.textElement_.textContent=this.message_,this.element_.classList.add(this.cssClasses_.ACTIVE),this.element_.setAttribute("aria-hidden","false"),this.timeoutID_=setTimeout(this.cleanup_.bind(this),this.timeout_)},e.prototype.showSnackbar=function(e){if(void 0===e)throw new Error("Please provide a data object with at least a message to display.");if(void 0===e.message)throw new Error("Please provide a message to be displayed.");if(e.actionHandler&&!e.actionText)throw new Error("Please provide action text with the handler.");this.active?this.queuedNotifications_.push(e):(this.active=!0,this.message_=e.message,e.timeout?this.timeout_=e.timeout:this.timeout_=2750,e.actionHandler&&(this.actionHandler_=e.actionHandler),e.actionText&&(this.actionText_=e.actionText),this.displaySnackbar_())},e.prototype.showSnackbar=e.prototype.showSnackbar,e.prototype.hideSnackbar=function(){this.active&&"number"==typeof this.timeoutID_&&(clearTimeout(this.timeoutID_),this.cleanup_())},e.prototype.hideSnackbar=e.prototype.hideSnackbar,e.prototype.checkQueue_=function(){this.queuedNotifications_.length>0&&this.showSnackbar(this.queuedNotifications_.shift())},e.prototype.cleanup_=function(){this.element_.classList.remove(this.cssClasses_.ACTIVE),setTimeout(function(){this.element_.setAttribute("aria-hidden","true"),this.textElement_.textContent="",Boolean(this.actionElement_.getAttribute("aria-hidden"))||(this.setActionHidden_(!0),this.actionElement_.textContent="",this.actionElement_.removeEventListener("click",this.actionHandler_)),this.actionHandler_=void 0,this.message_=void 0,this.actionText_=void 0,this.timeoutID_=void 0,this.active=!1,this.checkQueue_()}.bind(this),this.Constant_.ANIMATION_LENGTH)},e.prototype.setActionHidden_=function(e){e?this.actionElement_.setAttribute("aria-hidden","true"):this.actionElement_.removeAttribute("aria-hidden")},componentHandler.register({constructor:e,classAsString:"MaterialSnackbar",cssClass:"mdl-js-snackbar",widget:!0})}(),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).store=e()}}(function(){return function e(t,i,s){function n(o,r){if(!i[o]){if(!t[o]){var l="function"==typeof require&&require;if(!r&&l)return l(o,!0);if(a)return a(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var d=i[o]={exports:{}};t[o][0].call(d.exports,function(e){var i=t[o][1][e];return n(i||e)},d,d.exports,e,t,i,s)}return i[o].exports}for(var a="function"==typeof require&&require,o=0;o<s.length;o++)n(s[o]);return n}({1:[function(e,t,i){(function(e){"use strict";t.exports=function(){var t,i={},s="undefined"!=typeof window?window:e,n=s.document,a="localStorage";if(i.disabled=!1,i.version="1.3.20",i.set=function(e,t){},i.get=function(e,t){},i.has=function(e){return void 0!==i.get(e)},i.remove=function(e){},i.clear=function(){},i.transact=function(e,t,s){null==s&&(s=t,t=null),null==t&&(t={});var n=i.get(e,t);s(n),i.set(e,n)},i.getAll=function(){},i.forEach=function(){},i.serialize=function(e){return JSON.stringify(e)},i.deserialize=function(e){if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e||void 0}},function(){try{return a in s&&s[a]}catch(e){return!1}}())t=s[a],i.set=function(e,s){return void 0===s?i.remove(e):(t.setItem(e,i.serialize(s)),s)},i.get=function(e,s){var n=i.deserialize(t.getItem(e));return void 0===n?s:n},i.remove=function(e){t.removeItem(e)},i.clear=function(){t.clear()},i.getAll=function(){var e={};return i.forEach(function(t,i){e[t]=i}),e},i.forEach=function(e){for(var s=0;s<t.length;s++){var n=t.key(s);e(n,i.get(n))}};else if(n&&n.documentElement.addBehavior){var o,r;try{(r=new ActiveXObject("htmlfile")).open(),r.write('<script>document.w=window<\/script><iframe src="/favicon.ico"></iframe>'),r.close(),o=r.w.frames[0].document,t=o.createElement("div")}catch(e){t=n.createElement("div"),o=n.body}var l=function(e){return function(){var s=Array.prototype.slice.call(arguments,0);s.unshift(t),o.appendChild(t),t.addBehavior("#default#userData"),t.load(a);var n=e.apply(i,s);return o.removeChild(t),n}},c=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g"),d=function(e){return e.replace(/^d/,"___$&").replace(c,"___")};i.set=l(function(e,t,s){return t=d(t),void 0===s?i.remove(t):(e.setAttribute(t,i.serialize(s)),e.save(a),s)}),i.get=l(function(e,t,s){t=d(t);var n=i.deserialize(e.getAttribute(t));return void 0===n?s:n}),i.remove=l(function(e,t){t=d(t),e.removeAttribute(t),e.save(a)}),i.clear=l(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(a);for(var i=t.length-1;i>=0;i--)e.removeAttribute(t[i].name);e.save(a)}),i.getAll=function(e){var t={};return i.forEach(function(e,i){t[e]=i}),t},i.forEach=l(function(e,t){for(var s,n=e.XMLDocument.documentElement.attributes,a=0;s=n[a];++a)t(s.name,i.deserialize(e.getAttribute(s.name)))})}try{var u="__storejs__";i.set(u,u),i.get(u)!=u&&(i.disabled=!0),i.remove(u)}catch(e){i.disabled=!0}return i.enabled=!i.disabled,i}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)});var requestCaptcha,signInCaptcha,jqOAuth=function(e){this.options={},this.data={},this.intercept=!1,this.refreshing=!1,this.buffer=[],this.currentRequests=[],this._resetOptions(),this._setupInterceptor(),$.extend(this.options,e),this._hasStoredData()?(this._getStoredData(),this.hasAccessToken()&&this.login(this.data.accessToken,this.data.refreshToken)):(this._resetData(),this._updateStorage()),null!==e.csrfToken&&this._setCsrfHeader()};function onloadCallback(){document.getElementById("signInCaptcha")&&(window.signInCaptcha=grecaptcha.render("signInCaptcha",{sitekey:reSITEKEY,callback:captchaCallbackSI})),window.requestCaptcha=grecaptcha.render("passCaptcha",{sitekey:reSITEKEY,callback:captchaCallbackRQ})}function captchaCallbackSI(){captchaValidator(window.signInCaptcha,"#signInCaptcha")}function captchaCallbackRQ(){captchaValidator(window.requestCaptcha,"#passCaptcha")}function captchaValidator(e,t){var i=captchaValidation(e),s=$(t);return s.parent().removeClass("has-error error-required"),i||s.parent().addClass("has-error error-required"),i}function captchaValidation(e){return grecaptcha.getResponse(e).length>0}jqOAuth.prototype.getAccessToken=function(){return this.data.accessToken},jqOAuth.prototype.hasAccessToken=function(){return null!==this.data.accessToken},jqOAuth.prototype.logout=function(){this._resetData(),this._updateStorage(),this._deactivateInterceptor(),this._removeAjaxHeader("Authorization"),this._fireEvent("logout")},jqOAuth.prototype.login=function(e,t){this.setAccessToken(e,t),this._activateInterceptor(),this._fireEvent("login")},jqOAuth.prototype.setAccessToken=function(e,t){this.data.accessToken=e,this.data.refreshToken=t,this._setAuthorizationHeader(),this._updateStorage()},jqOAuth.prototype.setCsrfToken=function(e){this.options.csrfToken=e,this._setCsrfHeader()},jqOAuth.prototype._activateInterceptor=function(){this.intercept=!0},jqOAuth.prototype._addToBuffer=function(e,t){this.buffer.push({deferred:t,settings:e})},jqOAuth.prototype._clearBuffer=function(){this.buffer=[]},jqOAuth.prototype._deactivateInterceptor=function(){this.intercept=!1},jqOAuth.prototype._fireBuffer=function(){var e,t=this,i=[];for(var s in this.buffer)e=this.buffer[s].deferred,this.buffer[s].settings.refreshRetry=!0,this.buffer[s].settings.headers.Authorization=$.ajaxSettings.headers.Authorization,i.push($.ajax(this.buffer[s].settings).then(e.resolve,e.reject));this._clearBuffer(),$.when.apply($,i).done(function(){t._setRefreshingFlag(!1)}).fail(function(){t._setRefreshingFlag(!1),t.logout()})},jqOAuth.prototype._fireEvent=function(e){if(this._hasEvent(e))return this.options.events[e]()},jqOAuth.prototype._getStoredData=function(){$.extend(this.data,store.get(this.options.tokenName))},jqOAuth.prototype._hasEvent=function(e){return void 0!==this.options.events[e]&&"function"==typeof this.options.events[e]},jqOAuth.prototype._hasStoredData=function(){return void 0!==store.get(this.options.tokenName)},jqOAuth.prototype._isAjaxHeadersInitialized=function(){return void 0!==$.ajaxSettings.headers},jqOAuth.prototype._removeAjaxHeader=function(e){if(!this._isAjaxHeadersInitialized())return!0;$.ajaxSettings.headers[e]=void 0},jqOAuth.prototype._removeAllAjaxHeaders=function(){this._removeAjaxHeader("Authorization"),this._removeAjaxHeader("X-CSRF-Token")},jqOAuth.prototype._resetData=function(){this.data={accessToken:null}},jqOAuth.prototype._resetOptions=function(){this.options={bufferInterval:25,bufferWaitLimit:500,csrfToken:null,events:{},tokenName:"jquery.oauth"},this._removeAllAjaxHeaders()},jqOAuth.prototype._setAjaxHeader=function(e,t){this._isAjaxHeadersInitialized()||($.ajaxSettings.headers={}),$.ajaxSettings.headers[e]=t},jqOAuth.prototype._setAuthorizationHeader=function(){this._setAjaxHeader("Authorization","Bearer "+this.data.accessToken)},jqOAuth.prototype._setCsrfHeader=function(){this._setAjaxHeader("X-CSRF-Token",this.options.csrfToken)},jqOAuth.prototype._setRefreshingFlag=function(e){this.refreshing=e},jqOAuth.prototype._setupInterceptor=function(){var e=this;$.ajaxPrefilter(function(t,i,s){if(!0!==t.refreshRetry){var n=i.data;void 0!==i.data?"[object String]"===Object.prototype.toString.call(i.data)&&(n=$.deparam(i.data)):n={},"/api/pupils/request"!==t.url&&"/api/pupils/diplom"!==t.url&&(t.data=$.param($.extend(n,{client_id:"mobileV1",client_secret:"abc123456"})));var a=$.Deferred();return e.currentRequests.push(t.url),s.always(function(){e.currentRequests.splice($.inArray(t.url,e.currentRequests),1)}),s.done(a.resolve),s.fail(function(){var i=Array.prototype.slice.call(arguments);e.intercept&&401===s.status&&e._hasEvent("tokenExpiration")?(e._addToBuffer(t,a),e.refreshing||(e._setRefreshingFlag(!0),e._fireEvent("tokenExpiration").success(function(){var t=0;e.interval=setInterval(function(){t+=e.options.bufferInterval,(0===e.currentRequests.length||t>=e.options.bufferWaitLimit)&&(clearInterval(e.interval),e._fireBuffer())},e.options.bufferInterval)}).fail(function(){e.logout()}))):a.rejectWith(s,i)}),a.promise(s)}})},jqOAuth.prototype._updateStorage=function(){store.set(this.options.tokenName,this.data)},function(){var e=window.CustomEvent;function t(e){for(;e;){if("dialog"===e.localName)return e;e=e.parentElement}return null}function i(e){e&&e.blur&&e!=document.body&&e.blur()}function s(e,t){for(var i=0;i<e.length;++i)if(e[i]==t)return!0;return!1}function n(e){if(this.dialog_=e,this.replacedStyleTop_=!1,this.openAsModal_=!1,e.hasAttribute("role")||e.setAttribute("role","dialog"),e.show=this.show.bind(this),e.showModal=this.showModal.bind(this),e.close=this.close.bind(this),"returnValue"in e||(e.returnValue=""),"MutationObserver"in window){new MutationObserver(this.maybeHideModal.bind(this)).observe(e,{attributes:!0,attributeFilter:["open"]})}else{var t,i=!1,s=function(){i?this.downgradeModal():this.maybeHideModal(),i=!1}.bind(this),n=function(e){i|="DOMNodeRemoved"===e.type.substr(0,"DOMNodeRemoved".length),window.clearTimeout(t),t=window.setTimeout(s,0)};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(t){e.addEventListener(t,n)})}Object.defineProperty(e,"open",{set:this.setOpen.bind(this),get:e.hasAttribute.bind(e,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}e&&"object"!=typeof e||((e=function(e,t){t=t||{};var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,!!t.bubbles,!!t.cancelable,t.detail||null),i}).prototype=window.Event.prototype),n.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),a.dm.removeDialog(this))},setOpen:function(e){e?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(e){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var t=document.createElement("div");this.dialog_.insertBefore(t,this.dialog_.firstChild),t.tabIndex=-1,t.focus(),this.dialog_.removeChild(t)}var i=document.createEvent("MouseEvents");i.initMouseEvent(e.type,e.bubbles,e.cancelable,window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),this.dialog_.dispatchEvent(i),e.stopPropagation()},focus_:function(){var e=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!e&&this.dialog_.tabIndex>=0&&(e=this.dialog_),!e){var t=["button","input","keygen","select","textarea"].map(function(e){return e+":not([disabled])"});t.push('[tabindex]:not([disabled]):not([tabindex=""])'),e=this.dialog_.querySelector(t.join(", "))}i(document.activeElement),e&&e.focus()},updateZIndex:function(e,t){if(e<t)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=e,this.backdrop_.style.zIndex=t},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!a.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");(function(e){for(;e&&e!==document.body;){var t=window.getComputedStyle(e),i=function(e,i){return!(void 0===t[e]||t[e]===i)};if(t.opacity<1||i("zIndex","auto")||i("transform","none")||i("mixBlendMode","normal")||i("filter","none")||i("perspective","none")||"isolate"===t.isolation||"fixed"===t.position||"touch"===t.webkitOverflowScrolling)return!0;e=e.parentElement}return!1})(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,a.needsCentering(this.dialog_)?(a.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(t){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),void 0!==t&&(this.dialog_.returnValue=t);var i=new e("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(i)}};var a={};a.reposition=function(e){var t=document.body.scrollTop||document.documentElement.scrollTop,i=t+(window.innerHeight-e.offsetHeight)/2;e.style.top=Math.max(t,i)+"px"},a.isInlinePositionSetByStylesheet=function(e){for(var t=0;t<document.styleSheets.length;++t){var i=document.styleSheets[t],n=null;try{n=i.cssRules}catch(e){}if(n)for(var a=0;a<n.length;++a){var o=n[a],r=null;try{r=document.querySelectorAll(o.selectorText)}catch(e){}if(r&&s(r,e)){var l=o.style.getPropertyValue("top"),c=o.style.getPropertyValue("bottom");if(l&&"auto"!=l||c&&"auto"!=c)return!0}}}return!1},a.needsCentering=function(e){return"absolute"==window.getComputedStyle(e).position&&(!("auto"!=e.style.top&&""!=e.style.top||"auto"!=e.style.bottom&&""!=e.style.bottom)&&!a.isInlinePositionSetByStylesheet(e))},a.forceRegisterDialog=function(e){if(e.showModal&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",e),"dialog"!==e.localName)throw new Error("Failed to register dialog: The element is not a dialog.");new n(e)},a.registerDialog=function(e){e.showModal||a.forceRegisterDialog(e)},a.DialogManager=function(){this.pendingDialogStack=[];var e=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",function(t){this.forwardTab_=void 0,t.stopPropagation(),e([])}.bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(t){var i=[];t.forEach(function(e){for(var t,s=0;t=e.removedNodes[s];++s)if(t instanceof Element)if("dialog"===t.localName)i.push(t);else{var n=t.querySelector("dialog");n&&i.push(n)}}),i.length&&e(i)}))},a.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},a.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},a.DialogManager.prototype.updateStacking=function(){for(var e,t=this.zIndexHigh_,i=0;e=this.pendingDialogStack[i];++i)e.updateZIndex(--t,--t),0===i&&(this.overlay.style.zIndex=--t);var s=this.pendingDialogStack[0];s?(s.dialog.parentNode||document.body).appendChild(this.overlay):this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},a.DialogManager.prototype.containedByTopDialog_=function(e){for(;e=t(e);){for(var i,s=0;i=this.pendingDialogStack[s];++s)if(i.dialog===e)return 0===s;e=e.parentElement}return!1},a.DialogManager.prototype.handleFocus_=function(e){if(!this.containedByTopDialog_(e.target)&&(e.preventDefault(),e.stopPropagation(),i(e.target),void 0!==this.forwardTab_)){var t=this.pendingDialogStack[0];return t.dialog.compareDocumentPosition(e.target)&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?t.focus_():document.documentElement.focus()),!1}},a.DialogManager.prototype.handleKey_=function(t){if(this.forwardTab_=void 0,27===t.keyCode){t.preventDefault(),t.stopPropagation();var i=new e("cancel",{bubbles:!1,cancelable:!0}),s=this.pendingDialogStack[0];s&&s.dialog.dispatchEvent(i)&&s.dialog.close()}else 9===t.keyCode&&(this.forwardTab_=!t.shiftKey)},a.DialogManager.prototype.checkDOM_=function(e){this.pendingDialogStack.slice().forEach(function(t){-1!==e.indexOf(t.dialog)?t.downgradeModal():t.maybeHideModal()})},a.DialogManager.prototype.pushDialog=function(e){var t=(this.zIndexHigh_-this.zIndexLow_)/2-1;return!(this.pendingDialogStack.length>=t)&&(1===this.pendingDialogStack.unshift(e)&&this.blockDocument(),this.updateStacking(),!0)},a.DialogManager.prototype.removeDialog=function(e){var t=this.pendingDialogStack.indexOf(e);-1!=t&&(this.pendingDialogStack.splice(t,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},a.dm=new a.DialogManager,document.addEventListener("submit",function(e){var i=e.target;if(i&&i.hasAttribute("method")&&"dialog"===i.getAttribute("method").toLowerCase()){e.preventDefault();var s=t(e.target);if(s){var n,a=["BUTTON","INPUT"];[document.activeElement,e.explicitOriginalTarget].some(function(t){if(t&&t.form==e.target&&-1!=a.indexOf(t.nodeName.toUpperCase()))return n=t.value,!0}),s.close(n)}}},!0),a.forceRegisterDialog=a.forceRegisterDialog,a.registerDialog=a.registerDialog,"function"==typeof define&&"amd"in define?define(function(){return a}):"object"==typeof module&&"object"==typeof module.exports?module.exports=a:window.dialogPolyfill=a}(),ready(function(){var e;!function(e){var t={};function i(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:s})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=3)}([function(e,t,i){"use strict";var s,n,a,o;"function"==typeof Symbol&&Symbol.iterator,o=function(e){return e},n=[i(2)],void 0===(a="function"==typeof(s=o)?s.apply(t,n):s)||(e.exports=a)},function(e,t,i){"use strict";var s,n,a,o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};o=function(e,t,i,s){var n=navigator.userAgent,a=p("touchstart"),o=/iemobile/i.test(n),l=/iphone/i.test(n)&&!o;function c(t,i,n){if(!(this instanceof c))return new c(t,i,n);this.el=s,this.events={},this.maskset=s,this.refreshValue=!1,!0!==n&&(e.isPlainObject(t)?i=t:(i=i||{},t&&(i.alias=t)),this.opts=e.extend(!0,{},this.defaults,i),this.noMasksCache=i&&i.definitions!==s,this.userOptions=i||{},this.isRTL=this.opts.numericInput,d(this.opts.alias,i,this.opts))}function d(t,i,n){var a=c.prototype.aliases[t];return a?(a.alias&&d(a.alias,s,n),e.extend(!0,n,a),e.extend(!0,n,i),!0):(null===n.mask&&(n.mask=t),!1)}function u(t,i){function n(t,n,a){var o=!1;if(null!==t&&""!==t||((o=null!==a.regex)?t=(t=a.regex).replace(/^(\^)(.*)(\$)$/,"$2"):(o=!0,t=".*")),1===t.length&&!1===a.greedy&&0!==a.repeat&&(a.placeholder=""),a.repeat>0||"*"===a.repeat||"+"===a.repeat){var r="*"===a.repeat?0:"+"===a.repeat?1:a.repeat;t=a.groupmarker[0]+t+a.groupmarker[1]+a.quantifiermarker[0]+r+","+a.repeat+a.quantifiermarker[1]}var l,d=o?"regex_"+a.regex:a.numericInput?t.split("").reverse().join(""):t;return c.prototype.masksCache[d]===s||!0===i?(l={mask:t,maskToken:c.prototype.analyseMask(t,o,a),validPositions:{},_buffer:s,buffer:s,tests:{},excludes:{},metadata:n,maskLength:s},!0!==i&&(c.prototype.masksCache[d]=l,l=e.extend(!0,{},c.prototype.masksCache[d]))):l=e.extend(!0,{},c.prototype.masksCache[d]),l}if(e.isFunction(t.mask)&&(t.mask=t.mask(t)),e.isArray(t.mask)){if(t.mask.length>1){if(null===t.keepStatic){t.keepStatic="auto";for(var a=0;a<t.mask.length;a++)if(t.mask[a].charAt(0)!==t.mask[0].charAt(0)){t.keepStatic=!0;break}}var o=t.groupmarker[0];return e.each(t.isRTL?t.mask.reverse():t.mask,function(i,n){o.length>1&&(o+=t.groupmarker[1]+t.alternatormarker+t.groupmarker[0]),n.mask===s||e.isFunction(n.mask)?o+=n:o+=n.mask}),n(o+=t.groupmarker[1],t.mask,t)}t.mask=t.mask.pop()}return t.mask&&t.mask.mask!==s&&!e.isFunction(t.mask.mask)?n(t.mask.mask,t.mask,t):n(t.mask,t.mask,t)}function p(e){var t=i.createElement("input"),s="on"+e,n=s in t;return n||(t.setAttribute(s,"return;"),n="function"==typeof t[s]),t=null,n}function h(n,d,u){d=d||this.maskset,u=u||this.opts;var f,m,g,v,_=this,y=this.el,C=this.isRTL,E=!1,b=!1,k=!1,w=!1,S=!1;function x(e,t,i){t=t||0;var n,a,o,r=[],l=0,c=L();do{if(!0===e&&I().validPositions[l])a=(o=I().validPositions[l]).match,n=o.locator.slice(),r.push(!0===i?o.input:!1===i?a.nativeDef:Y(l,a));else{a=(o=O(l,n,l-1)).match,n=o.locator.slice();var d=!1!==u.jitMasking?u.jitMasking:a.jit;(!1===d||d===s||l<c||"number"==typeof d&&isFinite(d)&&d>l)&&r.push(!1===i?a.nativeDef:Y(l,a))}"auto"===u.keepStatic&&a.newBlockMarker&&null!==a.fn&&(u.keepStatic=l-1),l++}while((g===s||l<g)&&(null!==a.fn||""!==a.def)||t>l);return""===r[r.length-1]&&r.pop(),!1===i&&I().maskLength!==s||(I().maskLength=l-1),r}function I(){return d}function A(e){var t=I();t.buffer=s,!0!==e&&(t.validPositions={},t.p=0)}function L(e,t,i){var n=-1,a=-1,o=i||I().validPositions;for(var r in e===s&&(e=-1),o){var l=parseInt(r);o[l]&&(t||!0!==o[l].generatedInput)&&(l<=e&&(n=l),l>=e&&(a=l))}return-1===n||n==e?a:-1==a?n:e-n<a-e?n:a}function D(e,t,i){for(var n,a=R(e=e>0?e-1:0,t),o=a.alternation!==s?a.locator[a.alternation].toString().split(","):[],r=0;r<t.length&&(!((n=t[r]).match&&(u.greedy&&!0!==n.match.optionalQuantifier||(!1===n.match.optionality||!1===n.match.newBlockMarker)&&!0!==n.match.optionalQuantifier)&&(a.alternation===s||a.alternation!==n.alternation||n.locator[a.alternation]!==s&&j(n.locator[a.alternation].toString().split(","),o)))||!0===i&&(null!==n.match.fn||/[0-9a-bA-Z]/.test(n.match.def)));r++);return n}function T(e){var t=e.locator[e.alternation];return"string"==typeof t&&t.length>0&&(t=t.split(",")[0]),t!==s?t.toString():""}function P(e,t){for(var i=(e.alternation!=s?e.mloc[T(e)]:e.locator).join("");i.length<t;)i+="0";return i}function O(e,t,i){return I().validPositions[e]||D(e,N(e,t?t.slice():t,i))}function R(e,t){return I().validPositions[e]?I().validPositions[e]:(t||N(e))[0]}function M(e,t){for(var i=!1,s=N(e),n=0;n<s.length;n++)if(s[n].match&&s[n].match.def===t){i=!0;break}return i}function N(t,i,n){var a,o,r,l,c=I().maskToken,d=i?n:0,p=i?i.slice():[0],h=[],f=!1,m=i?i.join(""):"";function g(i,n,o,r){function l(o,r,c){function p(t,i){var s=0===e.inArray(t,i.matches);return s||e.each(i.matches,function(e,n){if(!0===n.isQuantifier?s=p(t,i.matches[e-1]):!0===n.isOptional?s=p(t,n):!0===n.isAlternate&&(s=p(t,n)),s)return!1}),s}function v(t,i,n){var a,o;if((I().tests[t]||I().validPositions[t])&&e.each(I().tests[t]||[I().validPositions[t]],function(e,t){if(t.mloc[i])return a=t,!1;var r=n!==s?n:t.alternation,l=t.locator[r]!==s?t.locator[r].toString().indexOf(i):-1;(o===s||l<o)&&-1!==l&&(a=t,o=l)}),a){var r=a.locator[a.alternation];return(a.mloc[i]||a.mloc[r]||a.locator).slice((n!==s?n:a.alternation)+1)}return n!==s?v(t,i):s}function _(e,t){function i(e){for(var t,i,s=[],n=0,a=e.length;n<a;n++)if("-"===e.charAt(n))for(i=e.charCodeAt(n+1);++t<i;)s.push(String.fromCharCode(t));else t=e.charCodeAt(n),s.push(e.charAt(n));return s.join("")}return u.regex&&null!==e.match.fn&&null!==t.match.fn?-1!==i(t.match.def.replace(/[\[\]]/g,"")).indexOf(i(e.match.def.replace(/[\[\]]/g,""))):e.match.def===t.match.nativeDef}function y(e,t){if(t===s||e.alternation===t.alternation&&-1===e.locator[e.alternation].toString().indexOf(t.locator[t.alternation])){e.mloc=e.mloc||{};var i=e.locator[e.alternation];if(i!==s){if("string"==typeof i&&(i=i.split(",")[0]),e.mloc[i]===s&&(e.mloc[i]=e.locator.slice()),t!==s){for(var n in t.mloc)"string"==typeof n&&(n=n.split(",")[0]),e.mloc[n]===s&&(e.mloc[n]=t.mloc[n]);e.locator[e.alternation]=Object.keys(e.mloc).join(",")}return!0}e.alternation=s}return!1}if(d>5e3)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+I().mask;if(d===t&&o.matches===s)return h.push({match:o,locator:r.reverse(),cd:m,mloc:{}}),!0;if(o.matches!==s){if(o.isGroup&&c!==o){if(o=l(i.matches[e.inArray(o,i.matches)+1],r))return!0}else if(o.isOptional){var C=o;if(o=g(o,n,r,c)){if(a=h[h.length-1].match,c!==s||!p(a,C))return!0;f=!0,d=t}}else if(o.isAlternator){var E,b=o,k=[],w=h.slice(),S=r.length,x=n.length>0?n.shift():-1;if(-1===x||"string"==typeof x){var A,L=d,D=n.slice(),T=[];if("string"==typeof x)T=x.split(",");else for(A=0;A<b.matches.length;A++)T.push(A.toString());if(I().excludes[t]){for(var P=T.slice(),O=0,R=I().excludes[t].length;O<R;O++)T.splice(T.indexOf(I().excludes[t][O].toString()),1);0===T.length&&(I().excludes[t]=s,T=P)}(!0===u.keepStatic||isFinite(parseInt(u.keepStatic))&&L>=u.keepStatic)&&(T=T.slice(0,1));for(var M=0;M<T.length;M++){A=parseInt(T[M]),h=[],n=v(d,A,S)||D.slice(),b.matches[A]&&l(b.matches[A],[A].concat(r),c)&&(o=!0),E=h.slice(),d=L,h=[];for(var N=0;N<E.length;N++){var F=E[N],H=!1;F.alternation=F.alternation||S,y(F);for(var B=0;B<k.length;B++){var j=k[B];if("string"!=typeof x||F.alternation!==s&&-1!==e.inArray(F.locator[F.alternation].toString(),T)){if(F.match.nativeDef===j.match.nativeDef){H=!0,y(j,F);break}if(_(F,j)){y(F,j)&&(H=!0,k.splice(k.indexOf(j),0,F));break}if(_(j,F)){y(j,F);break}if(U=j,null===(G=F).match.fn&&null!==U.match.fn&&U.match.fn.test(G.match.def,I(),t,!1,u,!1)){y(F,j)&&(H=!0,k.splice(k.indexOf(j),0,F));break}}}H||k.push(F)}}h=w.concat(k),d=t,f=h.length>0,o=k.length>0,n=D.slice()}else o=l(b.matches[x]||i.matches[x],[x].concat(r),c);if(o)return!0}else if(o.isQuantifier&&c!==i.matches[e.inArray(o,i.matches)-1])for(var V=o,$=n.length>0?n.shift():0;$<(isNaN(V.quantifier.max)?$+1:V.quantifier.max)&&d<=t;$++){var q=i.matches[e.inArray(V,i.matches)-1];if(o=l(q,[$].concat(r),q)){if((a=h[h.length-1].match).optionalQuantifier=$>V.quantifier.min-1,a.jit=$+q.matches.indexOf(a)>=V.quantifier.jit,p(a,q)&&$>V.quantifier.min-1){f=!0,d=t;break}if(V.quantifier.jit!==s&&isNaN(V.quantifier.max)&&a.optionalQuantifier&&I().validPositions[t-1]===s){h.pop(),f=!0,d=t,m=s;break}return!0}}else if(o=g(o,n,r,c))return!0}else d++;var G,U}for(var c=n.length>0?n.shift():0;c<i.matches.length;c++)if(!0!==i.matches[c].isQuantifier){var p=l(i.matches[c],[c].concat(o),r);if(p&&d===t)return p;if(d>t)break}}if(t>-1){if(i===s){for(var v,_=t-1;(v=I().validPositions[_]||I().tests[_])===s&&_>-1;)_--;v!==s&&_>-1&&(o=_,r=v,l=[],e.isArray(r)||(r=[r]),r.length>0&&(r[0].alternation===s?0===(l=D(o,r.slice()).locator.slice()).length&&(l=r[0].locator.slice()):e.each(r,function(e,t){if(""!==t.def)if(0===l.length)l=t.locator.slice();else for(var i=0;i<l.length;i++)t.locator[i]&&-1===l[i].toString().indexOf(t.locator[i])&&(l[i]+=","+t.locator[i])})),m=(p=l).join(""),d=_)}if(I().tests[t]&&I().tests[t][0].cd===m)return I().tests[t];for(var y=p.shift();y<c.length&&!(g(c[y],p,[y])&&d===t||d>t);y++);}return(0===h.length||f)&&h.push({match:{fn:null,optionality:!0,casing:null,def:"",placeholder:""},locator:[],mloc:{},cd:m}),i!==s&&I().tests[t]?e.extend(!0,[],h):(I().tests[t]=e.extend(!0,[],h),I().tests[t])}function F(){return I()._buffer===s&&(I()._buffer=x(!1,1),I().buffer===s&&(I().buffer=I()._buffer.slice())),I()._buffer}function H(e){return I().buffer!==s&&!0!==e||(I().buffer=x(!0,L(),!0)),I().buffer}function B(e,t,i){var n,a;if(!0===e)A(),e=0,t=i.length;else for(n=e;n<t;n++)delete I().validPositions[n];for(a=e,n=e;n<t;n++)if(A(!0),i[n]!==u.skipOptionalPartCharacter){var o=$(a,i[n],!0,!0);!1!==o&&(A(!0),a=o.caret!==s?o.caret:o.pos+1)}}function j(t,i,n){for(var a,o=u.greedy?i:i.slice(0,1),r=!1,l=n!==s?n.split(","):[],c=0;c<l.length;c++)-1!==(a=t.indexOf(l[c]))&&t.splice(a,1);for(var d=0;d<t.length;d++)if(-1!==e.inArray(t[d],o)){r=!0;break}return r}function V(t,i,n,a,o){var r,l,c,d,p,h,f,m=e.extend(!0,{},I().validPositions),g=!1,v=o!==s?o:L();if(-1===v&&o===s)l=(d=R(r=0)).alternation;else for(;v>=0;v--)if((c=I().validPositions[v])&&c.alternation!==s){if(d&&d.locator[c.alternation]!==c.locator[c.alternation])break;r=v,l=I().validPositions[r].alternation,d=c}if(l!==s){f=parseInt(r),I().excludes[f]=I().excludes[f]||[],!0!==t&&I().excludes[f].push(T(d));var _=[],y=0;for(p=f;p<L(s,!0)+1;p++)(h=I().validPositions[p])&&!0!==h.generatedInput&&/[0-9a-bA-Z]/.test(h.input)?_.push(h.input):p<t&&y++,delete I().validPositions[p];for(;I().excludes[f]&&I().excludes[f].length<10;){var C=-1*y,E=_.slice();for(I().tests[f]=s,A(!0),g=!0;E.length>0;){var b=E.shift();if(b!==u.skipOptionalPartCharacter&&!(g=$(L(s,!0)+1,b,!1,a,!0)))break}if(g&&i!==s){var k=L(t)+1;for(p=f;p<L()+1;p++)((h=I().validPositions[p])===s||null==h.match.fn)&&p<t+C&&C++;g=$((t+=C)>k?k:t,i,n,a,!0)}if(g)break;if(A(),d=R(f),I().validPositions=e.extend(!0,{},m),!I().excludes[f]){g=V(t,i,n,a,f-1);break}var w=T(d);if(-1!==I().excludes[f].indexOf(w)){g=V(t,i,n,a,f-1);break}for(I().excludes[f].push(w),p=f;p<L(s,!0)+1;p++)delete I().validPositions[p]}}return I().excludes[f]=s,g}function $(t,i,n,a,o,r){function l(e){return C?e.begin-e.end>1||e.begin-e.end==1:e.end-e.begin>1||e.end-e.begin==1}n=!0===n;var d=t;function p(i,n,o){var r=!1;return e.each(N(i),function(d,p){var h=p.match;if(H(!0),!1!==(r=null!=h.fn?h.fn.test(n,I(),i,o,u,l(t)):(n===h.def||n===u.skipOptionalPartCharacter)&&""!==h.def&&{c:Y(i,h,!0)||h.def,pos:i})){var f=r.c!==s?r.c:n,m=i;return f=f===u.skipOptionalPartCharacter&&null===h.fn?Y(i,h,!0)||h.def:f,r.remove!==s&&(e.isArray(r.remove)||(r.remove=[r.remove]),e.each(r.remove.sort(function(e,t){return t-e}),function(e,t){G({begin:t,end:t+1})})),r.insert!==s&&(e.isArray(r.insert)||(r.insert=[r.insert]),e.each(r.insert.sort(function(e,t){return e-t}),function(e,t){$(t.pos,t.c,!0,a)})),!0!==r&&r.pos!==s&&r.pos!==i&&(m=r.pos),(!0===r||r.pos!==s||r.c!==s)&&(d>0&&A(!0),G(t,e.extend({},p,{input:function(t,i,s){switch(u.casing||i.casing){case"upper":t=t.toUpperCase();break;case"lower":t=t.toLowerCase();break;case"title":var n=I().validPositions[s-1];t=0===s||n&&n.input===String.fromCharCode(c.keyCode.SPACE)?t.toUpperCase():t.toLowerCase();break;default:if(e.isFunction(u.casing)){var a=Array.prototype.slice.call(arguments);a.push(I().validPositions),t=u.casing.apply(this,a)}}return t}(f,h,m)}),a,m)||(r=!1),!1)}}),r}t.begin!==s&&(d=C?t.end:t.begin);var h=!0,f=e.extend(!0,{},I().validPositions);if(e.isFunction(u.preValidation)&&!n&&!0!==a&&!0!==r&&(h=u.preValidation(H(),d,i,l(t),u,I())),!0===h){if(q(s,d,!0),(g===s||d<g)&&(h=p(d,i,n),(!n||!0===a)&&!1===h&&!0!==r)){var m=I().validPositions[d];if(!m||null!==m.match.fn||m.match.def!==i&&i!==u.skipOptionalPartCharacter){if((u.insertMode||I().validPositions[K(d)]===s)&&!U(d,!0))for(var v=d+1,_=K(d);v<=_;v++)if(!1!==(h=p(v,i,n))){h=q(d,h.pos!==s?h.pos:v)||h,d=v;break}}else h={caret:K(d)}}!1!==h||null===u.keepStatic||!1===u.keepStatic||n||!0===o||(h=V(d,i,n,a)),!0===h&&(h={pos:d})}if(e.isFunction(u.postValidation)&&!1!==h&&!n&&!0!==a&&!0!==r){var y=u.postValidation(H(!0),h,u);if(y!==s){if(y.refreshFromBuffer&&y.buffer){var E=y.refreshFromBuffer;B(!0===E?E:E.start,E.end,y.buffer)}h=!0===y?h:y}}return h&&h.pos===s&&(h.pos=d),!1!==h&&!0!==r||(A(!0),I().validPositions=e.extend(!0,{},f)),h}function q(t,i,n){var a;if(t===s)for(t=i-1;t>0&&!I().validPositions[t];t--);for(var o=t;o<i;o++)if(I().validPositions[o]===s&&!U(o,!0)){var r=0==o?R(o):I().validPositions[o-1];if(r){var l,c=P(r),d=N(o).slice(),u=s,p=R(o);if(""===d[d.length-1].match.def&&d.pop(),e.each(d,function(e,t){l=P(t,c.length);var i=Math.abs(l-c);(u===s||i<u)&&null===t.match.fn&&!0!==t.match.optionality&&!0!==t.match.optionalQuantifier&&(u=i,p=t)}),(p=e.extend({},p,{input:Y(o,p.match,!0)||p.match.def})).generatedInput=!0,G(o,p,!0),!0!==n){var h=I().validPositions[i].input;I().validPositions[i]=s,a=$(i,h,!0,!0)}}}return a}function G(t,i,n,a){function o(e,t,i){var n=t[e];if(n!==s&&(null===n.match.fn&&!0!==n.match.optionality||n.input===u.radixPoint)){var a=i.begin<=e-1?t[e-1]&&null===t[e-1].match.fn&&t[e-1]:t[e-1],o=i.end>e+1?t[e+1]&&null===t[e+1].match.fn&&t[e+1]:t[e+1];return a&&o}return!1}var r=t.begin!==s?t.begin:t,l=t.end!==s?t.end:t;if(t.begin>t.end&&(r=t.end,l=t.begin),a=a!==s?a:r,r!==l||u.insertMode&&I().validPositions[a]!==s&&n===s){var c=e.extend(!0,{},I().validPositions),d=L(s,!0);for(I().p=r,g=d;g>=r;g--)I().validPositions[g]&&"+"===I().validPositions[g].match.nativeDef&&(u.isNegative=!1),delete I().validPositions[g];var p=!0,h=a,f=(I().validPositions,!1),m=h,g=h;for(i&&(I().validPositions[a]=e.extend(!0,{},i),m++,h++,r<l&&g++);g<=d;g++){var v=c[g];if(v!==s&&(g>=l||g>=r&&!0!==v.generatedInput&&o(g,c,{begin:r,end:l}))){for(;""!==R(m).match.def;){if(!1===f&&c[m]&&c[m].match.nativeDef===v.match.nativeDef)I().validPositions[m]=e.extend(!0,{},c[m]),I().validPositions[m].input=v.input,q(s,m,!0),h=m+1,p=!0;else if(M(m,v.match.def)){var _=$(m,v.input,!0,!0);p=!1!==_,h=_.caret||_.insert?L():m+1,f=!0}else if(!(p=!0===v.generatedInput||v.input==u.radixPoint)&&""===R(m).match.def)break;if(p)break;m++}""==R(m).match.def&&(p=!1),m=h}if(!p)break}if(!p)return I().validPositions=e.extend(!0,{},c),A(!0),!1}else I().validPositions[a]=e.extend(!0,{},i);return A(!0),!0}function U(e,t){var i=O(e).match;if(""===i.def&&(i=R(e).match),null!=i.fn)return i.fn;if(!0!==t&&e>-1){var s=N(e);return s.length>1+(""===s[s.length-1].match.def?1:0)}return!1}function K(e,t){for(var i=e+1;""!==R(i).match.def&&(!0===t&&(!0!==R(i).match.newBlockMarker||!U(i))||!0!==t&&!U(i));)i++;return i}function z(e,t){var i,s=e;if(s<=0)return 0;for(;--s>0&&(!0===t&&!0!==R(s).match.newBlockMarker||!0!==t&&!U(s)&&((i=N(s)).length<2||2===i.length&&""===i[1].match.def)););return s}function W(t,i,n,a,o){if(a&&e.isFunction(u.onBeforeWrite)){var r=u.onBeforeWrite.call(_,a,i,n,u);if(r){if(r.refreshFromBuffer){var l=r.refreshFromBuffer;B(!0===l?l:l.start,l.end,r.buffer||i),i=H(!0)}n!==s&&(n=r.caret!==s?r.caret:n)}}t!==s&&(t.inputmask._valueSet(i.join("")),n===s||a!==s&&"blur"===a.type?le(t,n,0===i.length):ie(t,n),!0===o&&(b=!0,e(t).trigger("input")))}function Y(t,i,n){if((i=i||R(t).match).placeholder!==s||!0===n)return e.isFunction(i.placeholder)?i.placeholder(u):i.placeholder;if(null===i.fn){if(t>-1&&I().validPositions[t]===s){var a,o=N(t),r=[];if(o.length>1+(""===o[o.length-1].match.def?1:0))for(var l=0;l<o.length;l++)if(!0!==o[l].match.optionality&&!0!==o[l].match.optionalQuantifier&&(null===o[l].match.fn||a===s||!1!==o[l].match.fn.test(a.match.def,I(),t,!0,u))&&(r.push(o[l]),null===o[l].match.fn&&(a=o[l]),r.length>1&&/[0-9a-bA-Z]/.test(r[0].match.def)))return u.placeholder.charAt(t%u.placeholder.length)}return i.def}return u.placeholder.charAt(t%u.placeholder.length)}var X,Q={on:function(t,i,n){var r=function(t){var i=this;if(i.inputmask===s&&"FORM"!==this.nodeName){var r=e.data(i,"_inputmask_opts");r?new c(r).mask(i):Q.off(i)}else{if("setvalue"===t.type||"FORM"===this.nodeName||!(i.disabled||i.readOnly&&!("keydown"===t.type&&t.ctrlKey&&67===t.keyCode||!1===u.tabThrough&&t.keyCode===c.keyCode.TAB))){switch(t.type){case"input":if(!0===b)return b=!1,t.preventDefault();a&&(S=!0);break;case"keydown":E=!1,b=!1;break;case"keypress":if(!0===E)return t.preventDefault();E=!0;break;case"click":if(o||l){var d=arguments;return setTimeout(function(){n.apply(i,d)},0),!1}}var p=n.apply(i,arguments);return S&&(S=!1,setTimeout(function(){ie(i,i.inputmask.caretPos,s,!0)})),!1===p&&(t.preventDefault(),t.stopPropagation()),p}t.preventDefault()}};t.inputmask.events[i]=t.inputmask.events[i]||[],t.inputmask.events[i].push(r),-1!==e.inArray(i,["submit","reset"])?null!==t.form&&e(t.form).on(i,r):e(t).on(i,r)},off:function(t,i){var s;t.inputmask&&t.inputmask.events&&(i?(s=[])[i]=t.inputmask.events[i]:s=t.inputmask.events,e.each(s,function(i,s){for(;s.length>0;){var n=s.pop();-1!==e.inArray(i,["submit","reset"])?null!==t.form&&e(t.form).off(i,n):e(t).off(i,n)}delete t.inputmask.events[i]}))}},Z={keydownEvent:function(t){var i=this,s=e(i),n=t.keyCode,a=ie(i);if(n===c.keyCode.BACKSPACE||n===c.keyCode.DELETE||l&&n===c.keyCode.BACKSPACE_SAFARI||t.ctrlKey&&n===c.keyCode.X&&!p("cut"))t.preventDefault(),oe(i,n,a),W(i,H(!0),I().p,t,i.inputmask._valueGet()!==H().join("")),i.inputmask._valueGet()===F().join("")?s.trigger("cleared"):!0===ae(H())&&s.trigger("complete");else if(n===c.keyCode.END||n===c.keyCode.PAGE_DOWN){t.preventDefault();var o=K(L());u.insertMode||o!==I().maskLength||t.shiftKey||o--,ie(i,t.shiftKey?a.begin:o,o,!0)}else n===c.keyCode.HOME&&!t.shiftKey||n===c.keyCode.PAGE_UP?(t.preventDefault(),ie(i,0,t.shiftKey?a.begin:0,!0)):(u.undoOnEscape&&n===c.keyCode.ESCAPE||90===n&&t.ctrlKey)&&!0!==t.altKey?(J(i,!0,!1,f.split("")),s.trigger("click")):n!==c.keyCode.INSERT||t.shiftKey||t.ctrlKey?!0===u.tabThrough&&n===c.keyCode.TAB?(!0===t.shiftKey?(null===R(a.begin).match.fn&&(a.begin=K(a.begin)),a.end=z(a.begin,!0),a.begin=z(a.end,!0)):(a.begin=K(a.begin,!0),a.end=K(a.begin,!0),a.end<I().maskLength&&a.end--),a.begin<I().maskLength&&(t.preventDefault(),ie(i,a.begin,a.end))):t.shiftKey||!1===u.insertMode&&(n===c.keyCode.RIGHT?setTimeout(function(){var e=ie(i);ie(i,e.begin)},0):n===c.keyCode.LEFT&&setTimeout(function(){var e=ie(i);ie(i,C?e.begin+1:e.begin-1)},0)):(u.insertMode=!u.insertMode,ie(i,u.insertMode||a.begin!==I().maskLength?a.begin:a.begin-1));u.onKeyDown.call(this,t,H(),ie(i).begin,u),k=-1!==e.inArray(n,u.ignorables)},keypressEvent:function(t,i,n,a,o){var r=this,l=e(r),d=t.which||t.charCode||t.keyCode;if(!(!0===i||t.ctrlKey&&t.altKey)&&(t.ctrlKey||t.metaKey||k))return d===c.keyCode.ENTER&&f!==H().join("")&&(f=H().join(""),setTimeout(function(){l.trigger("change")},0)),!0;if(d){46===d&&!1===t.shiftKey&&""!==u.radixPoint&&(d=u.radixPoint.charCodeAt(0));var p,h=i?{begin:o,end:o}:ie(r),m=String.fromCharCode(d),g=0;if(u._radixDance&&u.numericInput){var v=H().indexOf(u.radixPoint.charAt(0))+1;h.begin<=v&&(d===u.radixPoint.charCodeAt(0)&&(g=1),h.begin-=1,h.end-=1)}I().writeOutBuffer=!0;var _=$(h,m,a);if(!1!==_&&(A(!0),p=_.caret!==s?_.caret:K(_.pos.begin?_.pos.begin:_.pos),I().p=p),p=(u.numericInput&&_.caret===s?z(p):p)+g,!1!==n&&(setTimeout(function(){u.onKeyValidation.call(r,d,_,u)},0),I().writeOutBuffer&&!1!==_)){var y=H();W(r,y,p,t,!0!==i),!0!==i&&setTimeout(function(){!0===ae(y)&&l.trigger("complete")},0)}if(t.preventDefault(),i)return!1!==_&&(_.forwardPosition=p),_}},pasteEvent:function(i){var s,n=i.originalEvent||i,a=e(this),o=this.inputmask._valueGet(!0),r=ie(this);C&&(s=r.end,r.end=r.begin,r.begin=s);var l=o.substr(0,r.begin),c=o.substr(r.end,o.length);if(l===(C?F().reverse():F()).slice(0,r.begin).join("")&&(l=""),c===(C?F().reverse():F()).slice(r.end).join("")&&(c=""),C&&(s=l,l=c,c=s),t.clipboardData&&t.clipboardData.getData)o=l+t.clipboardData.getData("Text")+c;else{if(!n.clipboardData||!n.clipboardData.getData)return!0;o=l+n.clipboardData.getData("text/plain")+c}var d=o;if(e.isFunction(u.onBeforePaste)){if(!1===(d=u.onBeforePaste.call(_,o,u)))return i.preventDefault();d||(d=o)}return J(this,!1,!1,C?d.split("").reverse():d.toString().split("")),W(this,H(),K(L()),i,f!==H().join("")),!0===ae(H())&&a.trigger("complete"),i.preventDefault()},inputFallBackEvent:function(t){var i,s,n=this,a=n.inputmask._valueGet();if(H().join("")!==a){var r=ie(n);if(a=function(e,t,i){if(o){var s=t.replace(H().join(""),"");if(1===s.length){var n=t.split("");n.splice(i.begin,0,s),t=n.join("")}}return t}(0,(s=r,"."===(i=a).charAt(s.begin-1)&&""!==u.radixPoint&&((i=i.split(""))[s.begin-1]=u.radixPoint.charAt(0),i=i.join("")),a=i),r),H().join("")!==a){var l=H().join(""),d=!u.numericInput&&a.length>l.length?-1:0,p=a.substr(0,r.begin),h=a.substr(r.begin),f=l.substr(0,r.begin+d),m=l.substr(r.begin+d),g=r,v="",_=!1;if(p!==f){for(var y=(_=p.length>=f.length)?p.length:f.length,C=0;p.charAt(C)===f.charAt(C)&&C<y;C++);_&&(0===d&&(g.begin=C),v+=p.slice(C,g.end))}if(h!==m&&(h.length>m.length?v+=h.slice(0,1):h.length<m.length&&(g.end+=m.length-h.length,_||""===u.radixPoint||""!==h||p.charAt(g.begin+d-1)!==u.radixPoint||(g.begin--,v=u.radixPoint))),W(n,H(),{begin:g.begin+d,end:g.end+d}),v.length>0)e.each(v.split(""),function(t,i){var s=new e.Event("keypress");s.which=i.charCodeAt(0),k=!1,Z.keypressEvent.call(n,s)});else{g.begin===g.end-1&&(g.begin=z(g.begin+1),g.begin===g.end-1?ie(n,g.begin):ie(n,g.begin,g.end));var E=new e.Event("keydown");E.keyCode=u.numericInput?c.keyCode.BACKSPACE:c.keyCode.DELETE,Z.keydownEvent.call(n,E),!1===u.insertMode&&ie(n,ie(n).begin-1)}t.preventDefault()}}},setValueEvent:function(t){this.inputmask.refreshValue=!1;var i=(i=t&&t.detail?t.detail[0]:arguments[1])||this.inputmask._valueGet(!0);e.isFunction(u.onBeforeMask)&&(i=u.onBeforeMask.call(_,i,u)||i),i=i.split(""),J(this,!0,!1,C?i.reverse():i),f=H().join(""),(u.clearMaskOnLostFocus||u.clearIncomplete)&&this.inputmask._valueGet()===F().join("")&&this.inputmask._valueSet("")},focusEvent:function(e){var t=this.inputmask._valueGet();u.showMaskOnFocus&&(!u.showMaskOnHover||u.showMaskOnHover&&""===t)&&(this.inputmask._valueGet()!==H().join("")?W(this,H(),K(L())):!1===w&&ie(this,K(L()))),!0===u.positionCaretOnTab&&!1===w&&Z.clickEvent.apply(this,[e,!0]),f=H().join("")},mouseleaveEvent:function(e){if(w=!1,u.clearMaskOnLostFocus&&i.activeElement!==this){var t=H().slice(),s=this.inputmask._valueGet();s!==this.getAttribute("placeholder")&&""!==s&&(-1===L()&&s===F().join("")?t=[]:ne(t),W(this,t))}},clickEvent:function(t,n){var a=this;setTimeout(function(){if(i.activeElement===a){var t=ie(a);if(n&&(C?t.end=t.begin:t.begin=t.end),t.begin===t.end)switch(u.positionCaretOnClick){case"none":break;case"select":ie(a,0,H().length);break;case"radixFocus":if(function(t){if(""!==u.radixPoint){var i=I().validPositions;if(i[t]===s||i[t].input===Y(t)){if(t<K(-1))return!0;var n=e.inArray(u.radixPoint,H());if(-1!==n){for(var a in i)if(n<a&&i[a].input!==Y(a))return!1;return!0}}}return!1}(t.begin)){var o=H().join("").indexOf(u.radixPoint);ie(a,u.numericInput?K(o):o);break}default:var r=t.begin,l=L(r,!0),c=K(l);if(r<c)ie(a,U(r,!0)||U(r-1,!0)?r:K(r));else{var d=I().validPositions[l],p=O(c,d?d.match.locator:s,d),h=Y(c,p.match);if(""!==h&&H()[c]!==h&&!0!==p.match.optionalQuantifier&&!0!==p.match.newBlockMarker||!U(c,!0)&&p.match.def===h){var f=K(c);(r>=f||r===c)&&(c=f)}ie(a,c)}}}},0)},dblclickEvent:function(e){var t=this;setTimeout(function(){ie(t,0,K(L()))},0)},cutEvent:function(s){var n=e(this),a=ie(this),o=s.originalEvent||s,r=t.clipboardData||o.clipboardData,l=C?H().slice(a.end,a.begin):H().slice(a.begin,a.end);r.setData("text",C?l.reverse().join(""):l.join("")),i.execCommand&&i.execCommand("copy"),oe(this,c.keyCode.DELETE,a),W(this,H(),I().p,s,f!==H().join("")),this.inputmask._valueGet()===F().join("")&&n.trigger("cleared")},blurEvent:function(t){var i=e(this);if(this.inputmask){var n=this.inputmask._valueGet(),a=H().slice();""===n&&v===s||(u.clearMaskOnLostFocus&&(-1===L()&&n===F().join("")?a=[]:ne(a)),!1===ae(a)&&(setTimeout(function(){i.trigger("incomplete")},0),u.clearIncomplete&&(A(),a=u.clearMaskOnLostFocus?[]:F().slice())),W(this,a,s,t)),f!==H().join("")&&(f=a.join(""),i.trigger("change"))}},mouseenterEvent:function(e){w=!0,i.activeElement!==this&&u.showMaskOnHover&&this.inputmask._valueGet()!==H().join("")&&W(this,H())},submitEvent:function(e){f!==H().join("")&&m.trigger("change"),u.clearMaskOnLostFocus&&-1===L()&&y.inputmask._valueGet&&y.inputmask._valueGet()===F().join("")&&y.inputmask._valueSet(""),u.clearIncomplete&&!1===ae(H())&&y.inputmask._valueSet(""),u.removeMaskOnSubmit&&(y.inputmask._valueSet(y.inputmask.unmaskedvalue(),!0),setTimeout(function(){W(y,H())},0))},resetEvent:function(e){y.inputmask.refreshValue=!0,setTimeout(function(){m.trigger("setvalue")},0)}};function J(t,i,n,a,o){var r=a.slice(),l="",d=-1,p=s;if(A(),n||!0===u.autoUnmask)d=K(d);else{var h=F().slice(0,K(-1)).join(""),f=r.join("").match(new RegExp("^"+c.escapeRegex(h),"g"));f&&f.length>0&&(r.splice(0,f.length*h.length),d=K(d))}-1===d?(I().p=K(d),d=0):I().p=d,e.each(r,function(i,a){if(a!==s)if(I().validPositions[i]===s&&r[i]===Y(i)&&U(i,!0)&&!1===$(i,r[i],!0,s,s,!0))I().p++;else{var o=new e.Event("_checkval");o.which=a.charCodeAt(0),l+=a;var c=L(s,!0),h=R(c),f=O(c+1,h?h.locator.slice():s,c);if(g=d,v=l,-1===x(!0,0,!1).slice(g,K(g)).join("").indexOf(v)||U(g)||R(g).match.nativeDef!==v.charAt(0)&&(" "!==R(g).match.nativeDef||R(g+1).match.nativeDef!==v.charAt(0))||n||u.autoUnmask){var m=n?i:null==f.match.fn&&f.match.optionality&&c+1<I().p?c+1:I().p;(p=Z.keypressEvent.call(t,o,!0,!1,n,m))&&(d=m+1,l="")}else p=Z.keypressEvent.call(t,o,!0,!1,!0,c+1);W(s,H(),p.forwardPosition,o,!1)}var g,v}),i&&W(t,H(),p?p.forwardPosition:s,o||new e.Event("checkval"),o&&"input"===o.type)}function ee(t){if(t){if(t.inputmask===s)return t.value;t.inputmask&&t.inputmask.refreshValue&&Z.setValueEvent.call(t)}var i=[],n=I().validPositions;for(var a in n)n[a].match&&null!=n[a].match.fn&&i.push(n[a].input);var o=0===i.length?"":(C?i.reverse():i).join("");if(e.isFunction(u.onUnMask)){var r=(C?H().slice().reverse():H()).join("");o=u.onUnMask.call(_,r,o,u)}return o}function te(e){return!C||"number"!=typeof e||u.greedy&&""===u.placeholder||(e=y.inputmask._valueGet().length-e),e}function ie(n,a,o,r){var c;if(a===s)return n.setSelectionRange?(a=n.selectionStart,o=n.selectionEnd):t.getSelection?(c=t.getSelection().getRangeAt(0)).commonAncestorContainer.parentNode!==n&&c.commonAncestorContainer!==n||(a=c.startOffset,o=c.endOffset):i.selection&&i.selection.createRange&&(o=(a=0-(c=i.selection.createRange()).duplicate().moveStart("character",-n.inputmask._valueGet().length))+c.text.length),{begin:r?a:te(a),end:r?o:te(o)};if(e.isArray(a)&&(o=C?a[0]:a[1],a=C?a[1]:a[0]),a.begin!==s&&(o=C?a.begin:a.end,a=C?a.end:a.begin),"number"==typeof a){a=r?a:te(a),o="number"==typeof(o=r?o:te(o))?o:a;var d=parseInt(((n.ownerDocument.defaultView||t).getComputedStyle?(n.ownerDocument.defaultView||t).getComputedStyle(n,null):n.currentStyle).fontSize)*o;if(n.scrollLeft=d>n.scrollWidth?d:0,l||!1!==u.insertMode||a!==o||o++,n.inputmask.caretPos={begin:a,end:o},n.setSelectionRange)n.selectionStart=a,n.selectionEnd=o;else if(t.getSelection){if(c=i.createRange(),n.firstChild===s||null===n.firstChild){var p=i.createTextNode("");n.appendChild(p)}c.setStart(n.firstChild,a<n.inputmask._valueGet().length?a:n.inputmask._valueGet().length),c.setEnd(n.firstChild,o<n.inputmask._valueGet().length?o:n.inputmask._valueGet().length),c.collapse(!0);var h=t.getSelection();h.removeAllRanges(),h.addRange(c)}else n.createTextRange&&((c=n.createTextRange()).collapse(!0),c.moveEnd("character",o),c.moveStart("character",a),c.select());le(n,{begin:a,end:o})}}function se(t){var i,n,a=H(),o=a.length,r=L(),l={},c=I().validPositions[r],d=c!==s?c.locator.slice():s;for(i=r+1;i<a.length;i++)d=(n=O(i,d,i-1)).locator.slice(),l[i]=e.extend(!0,{},n);var u=c&&c.alternation!==s?c.locator[c.alternation]:s;for(i=o-1;i>r&&((n=l[i]).match.optionality||n.match.optionalQuantifier&&n.match.newBlockMarker||u&&(u!==l[i].locator[c.alternation]&&null!=n.match.fn||null===n.match.fn&&n.locator[c.alternation]&&j(n.locator[c.alternation].toString().split(","),u.toString().split(","))&&""!==N(i)[0].def))&&a[i]===Y(i,n.match);i--)o--;return t?{l:o,def:l[o]?l[o].match:s}:o}function ne(e){for(var t,i=se(),n=e.length,a=I().validPositions[L()];i<n&&!U(i,!0)&&(t=a!==s?O(i,a.locator.slice(""),a):R(i))&&!0!==t.match.optionality&&(!0!==t.match.optionalQuantifier&&!0!==t.match.newBlockMarker||i+1===n&&""===(a!==s?O(i+1,a.locator.slice(""),a):R(i+1)).match.def);)i++;for(;(t=I().validPositions[i-1])&&t&&t.match.optionality&&t.input===u.skipOptionalPartCharacter;)i--;return e.splice(i),e}function ae(t){if(e.isFunction(u.isComplete))return u.isComplete(t,u);if("*"===u.repeat)return s;var i=!1,n=se(!0),a=z(n.l);if(n.def===s||n.def.newBlockMarker||n.def.optionality||n.def.optionalQuantifier){i=!0;for(var o=0;o<=a;o++){var r=O(o).match;if(null!==r.fn&&I().validPositions[o]===s&&!0!==r.optionality&&!0!==r.optionalQuantifier||null===r.fn&&t[o]!==Y(o,r)){i=!1;break}}}return i}function oe(e,t,i,n,a){if((u.numericInput||C)&&(t===c.keyCode.BACKSPACE?t=c.keyCode.DELETE:t===c.keyCode.DELETE&&(t=c.keyCode.BACKSPACE),C)){var o=i.end;i.end=i.begin,i.begin=o}if(t===c.keyCode.BACKSPACE&&(i.end-i.begin<1||!1===u.insertMode)?(i.begin=z(i.begin),I().validPositions[i.begin]!==s&&I().validPositions[i.begin].input===u.groupSeparator&&i.begin--,!1===u.insertMode&&i.end!==I().maskLength&&i.end--):t===c.keyCode.DELETE&&i.begin===i.end&&(i.end=U(i.end,!0)&&I().validPositions[i.end]&&I().validPositions[i.end].input!==u.radixPoint?i.end+1:K(i.end)+1,I().validPositions[i.begin]!==s&&I().validPositions[i.begin].input===u.groupSeparator&&i.end++),G(i),!0!==n&&null!==u.keepStatic&&!1!==u.keepStatic){var r=V(!0);r&&(i.begin=r.caret!==s?r.caret:r.pos?K(r.pos.begin?r.pos.begin:r.pos):L(-1,!0))}var l=L(i.begin,!0);if(l<i.begin||-1===i.begin)I().p=K(l);else if(!0!==n&&(I().p=i.begin,!0!==a))for(;I().p<l&&I().validPositions[I().p]===s;)I().p++}function re(s){var n=(s.ownerDocument.defaultView||t).getComputedStyle(s,null),a=i.createElement("div");a.style.width=n.width,a.style.textAlign=n.textAlign,v=i.createElement("div"),s.inputmask.colorMask=v,v.className="im-colormask",s.parentNode.insertBefore(v,s),s.parentNode.removeChild(s),v.appendChild(s),v.appendChild(a),s.style.left=a.offsetLeft+"px",e(v).on("mouseleave",function(e){return Z.mouseleaveEvent.call(s,[e])}),e(v).on("mouseenter",function(e){return Z.mouseenterEvent.call(s,[e])}),e(v).on("click",function(e){return ie(s,function(e){var t,a=i.createElement("span");for(var o in n)isNaN(o)&&-1!==o.indexOf("font")&&(a.style[o]=n[o]);a.style.textTransform=n.textTransform,a.style.letterSpacing=n.letterSpacing,a.style.position="absolute",a.style.height="auto",a.style.width="auto",a.style.visibility="hidden",a.style.whiteSpace="nowrap",i.body.appendChild(a);var r,l=s.inputmask._valueGet(),c=0;for(t=0,r=l.length;t<=r;t++){if(a.innerHTML+=l.charAt(t)||"_",a.offsetWidth>=e){var d=e-c,u=a.offsetWidth-e;a.innerHTML=l.charAt(t),t=(d-=a.offsetWidth/3)<u?t-1:t;break}c=a.offsetWidth}return i.body.removeChild(a),t}(e.clientX)),Z.clickEvent.call(s,[e])}),e(s).on("keydown",function(e){e.shiftKey||!1===u.insertMode||setTimeout(function(){le(s)},0)})}function le(e,t,n){var a,o,r,l=[],c=!1,d=0;function p(e){if(e===s&&(e=""),c||null!==a.fn&&o.input!==s)if(c&&(null!==a.fn&&o.input!==s||""===a.def)){c=!1;var t=l.length;l[t-1]=l[t-1]+"</span>",l.push(e)}else l.push(e);else c=!0,l.push("<span class='im-static'>"+e)}if(v!==s){var h=H();if(t===s?t=ie(e):t.begin===s&&(t={begin:t,end:t}),!0!==n){var f=L();do{I().validPositions[d]?(o=I().validPositions[d],a=o.match,r=o.locator.slice(),p(h[d])):(o=O(d,r,d-1),a=o.match,r=o.locator.slice(),(!1===u.jitMasking||d<f||"number"==typeof u.jitMasking&&isFinite(u.jitMasking)&&u.jitMasking>d)&&p(Y(d,a))),d++}while((g===s||d<g)&&(null!==a.fn||""!==a.def)||f>d||c);c&&p(),i.activeElement===e&&(l.splice(t.begin,0,t.begin===t.end||t.end>I().maskLength?'<mark class="im-caret" style="border-right-width: 1px;border-right-style: solid;">':'<mark class="im-caret-select">'),l.splice(t.end+1,0,"</mark>"))}var m=v.getElementsByTagName("div")[0];m.innerHTML=l.join(""),e.inputmask.positionColorMask(e,m)}}if(c.prototype.positionColorMask=function(e,t){e.style.left=t.offsetLeft+"px"},n!==s)switch(n.action){case"isComplete":return y=n.el,ae(H());case"unmaskedvalue":return y!==s&&n.value===s||(X=n.value,X=(e.isFunction(u.onBeforeMask)&&u.onBeforeMask.call(_,X,u)||X).split(""),J(s,!1,!1,C?X.reverse():X),e.isFunction(u.onBeforeWrite)&&u.onBeforeWrite.call(_,s,H(),0,u)),ee(y);case"mask":!function(t){Q.off(t);var n=function(t,n){var a=t.getAttribute("type"),o="INPUT"===t.tagName&&-1!==e.inArray(a,n.supportsInputType)||t.isContentEditable||"TEXTAREA"===t.tagName;if(!o)if("INPUT"===t.tagName){var l=i.createElement("input");l.setAttribute("type",a),o="text"===l.type,l=null}else o="partial";return!1!==o?function(t){var a,o,l;function c(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():-1!==L()||!0!==n.nullable?i.activeElement===this&&n.clearMaskOnLostFocus?(C?ne(H().slice()).reverse():ne(H().slice())).join(""):a.call(this):"":a.call(this)}function d(t){o.call(this,t),this.inputmask&&e(this).trigger("setvalue",[t])}if(!t.inputmask.__valueGet){if(!0!==n.noValuePatching){if(Object.getOwnPropertyDescriptor){"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===r("test".__proto__)?function(e){return e.__proto__}:function(e){return e.constructor.prototype});var u=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t),"value"):s;u&&u.get&&u.set?(a=u.get,o=u.set,Object.defineProperty(t,"value",{get:c,set:d,configurable:!0})):"INPUT"!==t.tagName&&(a=function(){return this.textContent},o=function(e){this.textContent=e},Object.defineProperty(t,"value",{get:c,set:d,configurable:!0}))}else i.__lookupGetter__&&t.__lookupGetter__("value")&&(a=t.__lookupGetter__("value"),o=t.__lookupSetter__("value"),t.__defineGetter__("value",c),t.__defineSetter__("value",d));t.inputmask.__valueGet=a,t.inputmask.__valueSet=o}t.inputmask._valueGet=function(e){return C&&!0!==e?a.call(this.el).split("").reverse().join(""):a.call(this.el)},t.inputmask._valueSet=function(e,t){o.call(this.el,null===e||e===s?"":!0!==t&&C?e.split("").reverse().join(""):e)},a===s&&(a=function(){return this.value},o=function(e){this.value=e},function(t){if(e.valHooks&&(e.valHooks[t]===s||!0!==e.valHooks[t].inputmaskpatch)){var i=e.valHooks[t]&&e.valHooks[t].get?e.valHooks[t].get:function(e){return e.value},a=e.valHooks[t]&&e.valHooks[t].set?e.valHooks[t].set:function(e,t){return e.value=t,e};e.valHooks[t]={get:function(e){if(e.inputmask){if(e.inputmask.opts.autoUnmask)return e.inputmask.unmaskedvalue();var t=i(e);return-1!==L(s,s,e.inputmask.maskset.validPositions)||!0!==n.nullable?t:""}return i(e)},set:function(t,i){var s,n=e(t);return s=a(t,i),t.inputmask&&n.trigger("setvalue",[i]),s},inputmaskpatch:!0}}}(t.type),l=t,Q.on(l,"mouseenter",function(t){var i=e(this);this.inputmask._valueGet()!==H().join("")&&i.trigger("setvalue")}))}}(t):t.inputmask=s,o}(t,u);if(!1!==n&&(m=e(y=t),-1===(g=y!==s?y.maxLength:s)&&(g=s),!0===u.colorMask&&re(y),a&&("inputmode"in y&&(y.inputmode=u.inputmode,y.setAttribute("inputmode",u.inputmode)),!0===u.disablePredictiveText&&("autocorrect"in y?y.autocorrect=!1:(!0!==u.colorMask&&re(y),y.type="password"))),!0===n&&(Q.on(y,"submit",Z.submitEvent),Q.on(y,"reset",Z.resetEvent),Q.on(y,"blur",Z.blurEvent),Q.on(y,"focus",Z.focusEvent),!0!==u.colorMask&&(Q.on(y,"click",Z.clickEvent),Q.on(y,"mouseleave",Z.mouseleaveEvent),Q.on(y,"mouseenter",Z.mouseenterEvent)),Q.on(y,"dblclick",Z.dblclickEvent),Q.on(y,"paste",Z.pasteEvent),Q.on(y,"dragdrop",Z.pasteEvent),Q.on(y,"drop",Z.pasteEvent),Q.on(y,"cut",Z.cutEvent),Q.on(y,"complete",u.oncomplete),Q.on(y,"incomplete",u.onincomplete),Q.on(y,"cleared",u.oncleared),a||!0===u.inputEventOnly?y.removeAttribute("maxLength"):(Q.on(y,"keydown",Z.keydownEvent),Q.on(y,"keypress",Z.keypressEvent)),Q.on(y,"compositionstart",e.noop),Q.on(y,"compositionupdate",e.noop),Q.on(y,"compositionend",e.noop),Q.on(y,"keyup",e.noop),Q.on(y,"input",Z.inputFallBackEvent),Q.on(y,"beforeinput",e.noop)),Q.on(y,"setvalue",Z.setValueEvent),f=F().join(""),""!==y.inputmask._valueGet(!0)||!1===u.clearMaskOnLostFocus||i.activeElement===y)){var o=e.isFunction(u.onBeforeMask)&&u.onBeforeMask.call(_,y.inputmask._valueGet(!0),u)||y.inputmask._valueGet(!0);""!==o&&J(y,!0,!1,C?o.split("").reverse():o.split(""));var l=H().slice();f=l.join(""),!1===ae(l)&&u.clearIncomplete&&A(),u.clearMaskOnLostFocus&&i.activeElement!==y&&(-1===L()?l=[]:ne(l)),W(y,l),i.activeElement===y&&ie(y,K(L()))}}(y);break;case"format":return X=(e.isFunction(u.onBeforeMask)&&u.onBeforeMask.call(_,n.value,u)||n.value).split(""),J(s,!0,!1,C?X.reverse():X),n.metadata?{value:C?H().slice().reverse().join(""):H().join(""),metadata:h.call(this,{action:"getmetadata"},d,u)}:C?H().slice().reverse().join(""):H().join("");case"isValid":n.value?(X=n.value.split(""),J(s,!0,!0,C?X.reverse():X)):n.value=H().join("");for(var ce=H(),de=se(),ue=ce.length-1;ue>de&&!U(ue);ue--);return ce.splice(de,ue+1-de),ae(ce)&&n.value===H().join("");case"getemptymask":return F().join("");case"remove":return y&&y.inputmask&&(e.data(y,"_inputmask_opts",null),m=e(y),y.inputmask._valueSet(u.autoUnmask?ee(y):y.inputmask._valueGet(!0)),Q.off(y),y.inputmask.colorMask&&((v=y.inputmask.colorMask).removeChild(y),v.parentNode.insertBefore(y,v),v.parentNode.removeChild(v)),Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(y),"value")&&y.inputmask.__valueGet&&Object.defineProperty(y,"value",{get:y.inputmask.__valueGet,set:y.inputmask.__valueSet,configurable:!0}):i.__lookupGetter__&&y.__lookupGetter__("value")&&y.inputmask.__valueGet&&(y.__defineGetter__("value",y.inputmask.__valueGet),y.__defineSetter__("value",y.inputmask.__valueSet)),y.inputmask=s),y;case"getmetadata":if(e.isArray(d.metadata)){var pe=x(!0,0,!1).join("");return e.each(d.metadata,function(e,t){if(t.mask===pe)return pe=t,!1}),pe}return d.metadata}}return c.prototype={dataAttribute:"data-inputmask",defaults:{placeholder:"_",optionalmarker:["[","]"],quantifiermarker:["{","}"],groupmarker:["(",")"],alternatormarker:"|",escapeChar:"\\",mask:null,regex:null,oncomplete:e.noop,onincomplete:e.noop,oncleared:e.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,alias:null,onKeyDown:e.noop,onBeforeMask:null,onBeforePaste:function(t,i){return e.isFunction(i.onBeforeMask)?i.onBeforeMask.call(this,t,i):t},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:e.noop,skipOptionalPartCharacter:" ",numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",_radixDance:!1,groupSeparator:"",keepStatic:null,positionCaretOnTab:!0,tabThrough:!1,supportsInputType:["text","tel","password","search"],ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123,0,229],isComplete:null,preValidation:null,postValidation:null,staticDefinitionSymbol:s,jitMasking:!1,nullable:!0,inputEventOnly:!1,noValuePatching:!1,positionCaretOnClick:"lvp",casing:null,inputmode:"verbatim",colorMask:!1,disablePredictiveText:!1,importDataAttributes:!0},definitions:{9:{validator:"[0-9１-９]",definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",definitionSymbol:"*"},"*":{validator:"[0-9１-９A-Za-zА-яЁёÀ-ÿµ]"}},aliases:{},masksCache:{},mask:function(n){var a=this;return"string"==typeof n&&(n=i.getElementById(n)||i.querySelectorAll(n)),n=n.nodeName?[n]:n,e.each(n,function(i,n){var o=e.extend(!0,{},a.opts);if(function(i,n,a,o){if(!0===n.importDataAttributes){var r,l,c,u,p=function(e,n){null!==(n=n!==s?n:i.getAttribute(o+"-"+e))&&("string"==typeof n&&(0===e.indexOf("on")?n=t[n]:"false"===n?n=!1:"true"===n&&(n=!0)),a[e]=n)},h=i.getAttribute(o);if(h&&""!==h&&(h=h.replace(/'/g,'"'),l=JSON.parse("{"+h+"}")),l)for(u in c=s,l)if("alias"===u.toLowerCase()){c=l[u];break}for(r in p("alias",c),a.alias&&d(a.alias,a,n),n){if(l)for(u in c=s,l)if(u.toLowerCase()===r.toLowerCase()){c=l[u];break}p(r,c)}}return e.extend(!0,n,a),("rtl"===i.dir||n.rightAlign)&&(i.style.textAlign="right"),("rtl"===i.dir||n.numericInput)&&(i.dir="ltr",i.removeAttribute("dir"),n.isRTL=!0),Object.keys(a).length}(n,o,e.extend(!0,{},a.userOptions),a.dataAttribute)){var r=u(o,a.noMasksCache);r!==s&&(n.inputmask!==s&&(n.inputmask.opts.autoUnmask=!0,n.inputmask.remove()),n.inputmask=new c(s,s,!0),n.inputmask.opts=o,n.inputmask.noMasksCache=a.noMasksCache,n.inputmask.userOptions=e.extend(!0,{},a.userOptions),n.inputmask.isRTL=o.isRTL||o.numericInput,n.inputmask.el=n,n.inputmask.maskset=r,e.data(n,"_inputmask_opts",o),h.call(n.inputmask,{action:"mask"}))}}),n&&n[0]&&n[0].inputmask||this},option:function(t,i){return"string"==typeof t?this.opts[t]:"object"===(void 0===t?"undefined":r(t))?(e.extend(this.userOptions,t),this.el&&!0!==i&&this.mask(this.el),this):void 0},unmaskedvalue:function(e){return this.maskset=this.maskset||u(this.opts,this.noMasksCache),h.call(this,{action:"unmaskedvalue",value:e})},remove:function(){return h.call(this,{action:"remove"})},getemptymask:function(){return this.maskset=this.maskset||u(this.opts,this.noMasksCache),h.call(this,{action:"getemptymask"})},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return this.maskset=this.maskset||u(this.opts,this.noMasksCache),h.call(this,{action:"isComplete"})},getmetadata:function(){return this.maskset=this.maskset||u(this.opts,this.noMasksCache),h.call(this,{action:"getmetadata"})},isValid:function(e){return this.maskset=this.maskset||u(this.opts,this.noMasksCache),h.call(this,{action:"isValid",value:e})},format:function(e,t){return this.maskset=this.maskset||u(this.opts,this.noMasksCache),h.call(this,{action:"format",value:e,metadata:t})},setValue:function(t){this.el&&e(this.el).trigger("setvalue",[t])},analyseMask:function(t,i,n){var a,o,r,l,d,u,p,h=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?(?:\|[0-9\+\*]*)?\})|[^.?*+^${[]()|\\]+|./g,f=/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,m=!1,g=new y,v=[],_=[];function y(e,t,i,s){this.matches=[],this.openGroup=e||!1,this.alternatorGroup=!1,this.isGroup=e||!1,this.isOptional=t||!1,this.isQuantifier=i||!1,this.isAlternator=s||!1,this.quantifier={min:1,max:1}}function C(t,a,o){o=o!==s?o:t.matches.length;var r=t.matches[o-1];if(i)0===a.indexOf("[")||m&&/\\d|\\s|\\w]/i.test(a)||"."===a?t.matches.splice(o++,0,{fn:new RegExp(a,n.casing?"i":""),optionality:t.isOptional,newBlockMarker:r===s||r.def!==a,casing:null,def:a,placeholder:s,nativeDef:a}):(m&&(a=a[a.length-1]),e.each(a.split(""),function(e,i){r=t.matches[o-1],t.matches.splice(o++,0,{fn:null,optionality:t.isOptional,newBlockMarker:r===s||r.def!==i&&null!==r.fn,casing:null,def:n.staticDefinitionSymbol||i,placeholder:n.staticDefinitionSymbol!==s?i:s,nativeDef:i})})),m=!1;else{var l=(n.definitions?n.definitions[a]:s)||c.prototype.definitions[a];l&&!m?t.matches.splice(o++,0,{fn:l.validator?"string"==typeof l.validator?new RegExp(l.validator,n.casing?"i":""):new function(){this.test=l.validator}:new RegExp("."),optionality:t.isOptional,newBlockMarker:r===s||r.def!==(l.definitionSymbol||a),casing:l.casing,def:l.definitionSymbol||a,placeholder:l.placeholder,nativeDef:a}):(t.matches.splice(o++,0,{fn:null,optionality:t.isOptional,newBlockMarker:r===s||r.def!==a&&null!==r.fn,casing:null,def:n.staticDefinitionSymbol||a,placeholder:n.staticDefinitionSymbol!==s?a:s,nativeDef:a}),m=!1)}}function E(){if(v.length>0){if(C(l=v[v.length-1],o),l.isAlternator){d=v.pop();for(var e=0;e<d.matches.length;e++)d.matches[e].isGroup=!1;v.length>0?(l=v[v.length-1]).matches.push(d):g.matches.push(d)}}else C(g,o)}for(i&&(n.optionalmarker[0]=s,n.optionalmarker[1]=s);a=i?f.exec(t):h.exec(t);){if(o=a[0],i)switch(o.charAt(0)){case"?":o="{0,1}";break;case"+":case"*":o="{"+o+"}"}if(m)E();else switch(o.charAt(0)){case n.escapeChar:m=!0,i&&E();break;case n.optionalmarker[1]:case n.groupmarker[1]:if((r=v.pop()).openGroup=!1,r!==s)if(v.length>0){if((l=v[v.length-1]).matches.push(r),l.isAlternator){d=v.pop();for(var b=0;b<d.matches.length;b++)d.matches[b].isGroup=!1,d.matches[b].alternatorGroup=!1;v.length>0?(l=v[v.length-1]).matches.push(d):g.matches.push(d)}}else g.matches.push(r);else E();break;case n.optionalmarker[0]:v.push(new y(!1,!0));break;case n.groupmarker[0]:v.push(new y(!0));break;case n.quantifiermarker[0]:var k=new y(!1,!1,!0),w=(o=o.replace(/[{}]/g,"")).split("|"),S=w[0].split(","),x=isNaN(S[0])?S[0]:parseInt(S[0]),I=1===S.length?x:isNaN(S[1])?S[1]:parseInt(S[1]);if("*"!==I&&"+"!==I||(x="*"===I?0:1),k.quantifier={min:x,max:I,jit:w[1]},v.length>0){var A=v[v.length-1].matches;(a=A.pop()).isGroup||((p=new y(!0)).matches.push(a),a=p),A.push(a),A.push(k)}else(a=g.matches.pop()).isGroup||(i&&null===a.fn&&"."===a.def&&(a.fn=new RegExp(a.def,n.casing?"i":"")),(p=new y(!0)).matches.push(a),a=p),g.matches.push(a),g.matches.push(k);break;case n.alternatormarker:if(v.length>0){var L=(l=v[v.length-1]).matches[l.matches.length-1];u=l.openGroup&&(L.matches===s||!1===L.isGroup&&!1===L.isAlternator)?v.pop():l.matches.pop()}else u=g.matches.pop();if(u.isAlternator)v.push(u);else if(u.alternatorGroup?(d=v.pop(),u.alternatorGroup=!1):d=new y(!1,!1,!1,!0),d.matches.push(u),v.push(d),u.openGroup){u.openGroup=!1;var D=new y(!0);D.alternatorGroup=!0,v.push(D)}break;default:E()}}for(;v.length>0;)r=v.pop(),g.matches.push(r);return g.matches.length>0&&(function t(a){a&&a.matches&&e.each(a.matches,function(e,o){var r=a.matches[e+1];(r===s||r.matches===s||!1===r.isQuantifier)&&o&&o.isGroup&&(o.isGroup=!1,i||(C(o,n.groupmarker[0],0),!0!==o.openGroup&&C(o,n.groupmarker[1]))),t(o)})}(g),_.push(g)),(n.numericInput||n.isRTL)&&function e(t){for(var i in t.matches=t.matches.reverse(),t.matches)if(t.matches.hasOwnProperty(i)){var a=parseInt(i);if(t.matches[i].isQuantifier&&t.matches[a+1]&&t.matches[a+1].isGroup){var o=t.matches[i];t.matches.splice(i,1),t.matches.splice(a+1,0,o)}t.matches[i].matches!==s?t.matches[i]=e(t.matches[i]):t.matches[i]=((r=t.matches[i])===n.optionalmarker[0]?r=n.optionalmarker[1]:r===n.optionalmarker[1]?r=n.optionalmarker[0]:r===n.groupmarker[0]?r=n.groupmarker[1]:r===n.groupmarker[1]&&(r=n.groupmarker[0]),r)}var r;return t}(_[0]),_}},c.extendDefaults=function(t){e.extend(!0,c.prototype.defaults,t)},c.extendDefinitions=function(t){e.extend(!0,c.prototype.definitions,t)},c.extendAliases=function(t){e.extend(!0,c.prototype.aliases,t)},c.format=function(e,t,i){return c(t).format(e,i)},c.unmask=function(e,t){return c(t).unmaskedvalue(e)},c.isValid=function(e,t){return c(t).isValid(e)},c.remove=function(t){"string"==typeof t&&(t=i.getElementById(t)||i.querySelectorAll(t)),t=t.nodeName?[t]:t,e.each(t,function(e,t){t.inputmask&&t.inputmask.remove()})},c.setValue=function(t,s){"string"==typeof t&&(t=i.getElementById(t)||i.querySelectorAll(t)),t=t.nodeName?[t]:t,e.each(t,function(t,i){i.inputmask?i.inputmask.setValue(s):e(i).trigger("setvalue",[s])})},c.escapeRegex=function(e){return e.replace(new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"].join("|\\")+")","gim"),"\\$1")},c.keyCode={BACKSPACE:8,BACKSPACE_SAFARI:127,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,RIGHT:39,SPACE:32,TAB:9,UP:38,X:88,CONTROL:17},c},n=[i(0),i(5),i(6)],void 0===(a="function"==typeof(s=o)?s.apply(t,n):s)||(e.exports=a)},function(e,t){e.exports=jQuery},function(e,t,i){"use strict";i(4),i(7),i(8),i(9);var s=o(i(1)),n=o(i(0)),a=o(i(2));function o(e){return e&&e.__esModule?e:{default:e}}n.default===a.default&&i(10),window.Inputmask=s.default},function(e,t,i){"use strict";var s,n,a,o;"function"==typeof Symbol&&Symbol.iterator,o=function(e,t){var i={d:["[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",Date.prototype.getDate],dd:["0[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",function(){return o(Date.prototype.getDate.call(this),2)}],ddd:[""],dddd:[""],m:["[1-9]|1[012]",Date.prototype.setMonth,"month",function(){return Date.prototype.getMonth.call(this)+1}],mm:["0[1-9]|1[012]",Date.prototype.setMonth,"month",function(){return o(Date.prototype.getMonth.call(this)+1,2)}],mmm:[""],mmmm:[""],yy:["[0-9]{2}",Date.prototype.setFullYear,"year",function(){return o(Date.prototype.getFullYear.call(this),2)}],yyyy:["[0-9]{4}",Date.prototype.setFullYear,"year",function(){return o(Date.prototype.getFullYear.call(this),4)}],h:["[1-9]|1[0-2]",Date.prototype.setHours,"hours",Date.prototype.getHours],hh:["0[1-9]|1[0-2]",Date.prototype.setHours,"hours",function(){return o(Date.prototype.getHours.call(this),2)}],hhh:["[0-9]+",Date.prototype.setHours,"hours",Date.prototype.getHours],H:["1?[0-9]|2[0-3]",Date.prototype.setHours,"hours",Date.prototype.getHours],HH:["[01][0-9]|2[0-3]",Date.prototype.setHours,"hours",function(){return o(Date.prototype.getHours.call(this),2)}],HHH:["[0-9]+",Date.prototype.setHours,"hours",Date.prototype.getHours],M:["[1-5]?[0-9]",Date.prototype.setMinutes,"minutes",Date.prototype.getMinutes],MM:["[0-5][0-9]",Date.prototype.setMinutes,"minutes",function(){return o(Date.prototype.getMinutes.call(this),2)}],s:["[1-5]?[0-9]",Date.prototype.setSeconds,"seconds",Date.prototype.getSeconds],ss:["[0-5][0-9]",Date.prototype.setSeconds,"seconds",function(){return o(Date.prototype.getSeconds.call(this),2)}],l:["[0-9]{3}",Date.prototype.setMilliseconds,"milliseconds",function(){return o(Date.prototype.getMilliseconds.call(this),3)}],L:["[0-9]{2}",Date.prototype.setMilliseconds,"milliseconds",function(){return o(Date.prototype.getMilliseconds.call(this),2)}],t:["[ap]"],tt:["[ap]m"],T:["[AP]"],TT:["[AP]M"],Z:[""],o:[""],S:[""]},s={isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};function n(e){if(!e.tokenizer){var t=[];for(var s in i)-1===t.indexOf(s[0])&&t.push(s[0]);e.tokenizer="("+t.join("+|")+")+?|.",e.tokenizer=new RegExp(e.tokenizer,"g")}return e.tokenizer}function a(e,s,a){for(var o,r="";o=n(a).exec(e);)void 0===s?r+=i[o[0]]?"("+i[o[0]][0]+")":t.escapeRegex(o[0]):i[o[0]]?r+=i[o[0]][3].call(s.date):r+=o[0];return r}function o(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}function r(e,t,s){var a,o,r,l={date:new Date(1,0,1)},c=e;function d(e,t,i){var n,o;"year"===a?(e[a]=(o=4===(n=t).length?n:(new Date).getFullYear().toString().substr(0,4-n.length)+n,s.min&&s.min.year&&s.max&&s.max.year?(o=o.replace(/[^0-9]/g,""),o+=s.min.year==s.max.year?s.min.year.substr(o.length):(""!==o&&0==s.max.year.indexOf(o)?parseInt(s.max.year)-1:parseInt(s.min.year)+1).toString().substr(o.length)):o=o.replace(/[^0-9]/g,"0"),o),e["raw"+a]=t):e[a]=i.min&&t.match(/[^0-9]/)?i.min[a]:t,void 0!==r&&r.call(e.date,"month"==a?parseInt(e[a])-1:e[a])}if("string"==typeof c){for(;o=n(s).exec(t);){var u=c.slice(0,o[0].length);i.hasOwnProperty(o[0])&&(a=i[o[0]][2],r=i[o[0]][1],d(l,u,s)),c=c.slice(u.length)}return l}}return t.extendAliases({datetime:{mask:function(e){return i.S=e.i18n.ordinalSuffix.join("|"),e.inputFormat=s[e.inputFormat]||e.inputFormat,e.displayFormat=s[e.displayFormat]||e.displayFormat||e.inputFormat,e.outputFormat=s[e.outputFormat]||e.outputFormat||e.inputFormat,e.placeholder=""!==e.placeholder?e.placeholder:e.inputFormat,e.min=r(e.min,e.inputFormat,e),e.max=r(e.max,e.inputFormat,e),e.regex=a(e.inputFormat,void 0,e),null},placeholder:"",inputFormat:"isoDateTime",displayFormat:void 0,outputFormat:void 0,min:null,max:null,i18n:{dayNames:["Mon","Tue","Wed","Thu","Fri","Sat","Sun","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],ordinalSuffix:["st","nd","rd","th"]},postValidation:function(e,t,i){var s,n,a,o,l,c=t,d=r(e.join(""),i.inputFormat,i);return c&&d.date.getTime()==d.date.getTime()&&(o=d,l=c,c=(c=(!isFinite(o.day)||"29"==o.day&&!isFinite(o.rawyear)||new Date(o.date.getFullYear(),isFinite(o.month)?o.month:o.date.getMonth()+1,0).getDate()>=o.day)&&l)&&(s=d,a=!0,(n=i).min&&n.min.date.getTime()==n.min.date.getTime()&&(a=n.min.date.getTime()<=s.date.getTime()),a&&n.max&&n.max.date.getTime()==n.max.date.getTime()&&(a=n.max.date.getTime()>=s.date.getTime()),a)),c},onKeyDown:function(i,s,a,r){if(i.ctrlKey&&i.keyCode===t.keyCode.RIGHT){for(var l,c=new Date,d="";l=n(r).exec(r.inputFormat);)"d"===l[0].charAt(0)?d+=o(c.getDate(),l[0].length):"m"===l[0].charAt(0)?d+=o(c.getMonth()+1,l[0].length):"yyyy"===l[0]?d+=c.getFullYear().toString():"y"===l[0].charAt(0)&&(d+=o(c.getYear(),l[0].length));this.inputmask._valueSet(d),e(this).trigger("setvalue")}},onUnMask:function(e,t,i){return a(i.outputFormat,r(e,i.inputFormat,i),i)},casing:function(e,t,i,s){return 0==t.nativeDef.indexOf("[ap]")?e.toLowerCase():0==t.nativeDef.indexOf("[AP]")?e.toUpperCase():e},insertMode:!1}}),t},n=[i(0),i(1)],void 0===(a="function"==typeof(s=o)?s.apply(t,n):s)||(e.exports=a)},function(e,t,i){"use strict";var s;"function"==typeof Symbol&&Symbol.iterator,void 0===(s=function(){return window}.call(t,i,t,e))||(e.exports=s)},function(e,t,i){"use strict";var s;"function"==typeof Symbol&&Symbol.iterator,void 0===(s=function(){return document}.call(t,i,t,e))||(e.exports=s)},function(e,t,i){"use strict";var s,n,a,o;"function"==typeof Symbol&&Symbol.iterator,o=function(e,t){return t.extendDefinitions({A:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",casing:"upper"},"&":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",casing:"upper"},"#":{validator:"[0-9A-Fa-f]",casing:"upper"}}),t.extendAliases({url:{definitions:{i:{validator:"."}},mask:"(\\http://)|(\\http\\s://)|(ftp://)|(ftp\\s://)i{+}",insertMode:!1,autoUnmask:!1,inputmode:"url"},ip:{mask:"i[i[i]].i[i[i]].i[i[i]].i[i[i]]",definitions:{i:{validator:function(e,t,i,s,n){return i-1>-1&&"."!==t.buffer[i-1]?(e=t.buffer[i-1]+e,e=i-2>-1&&"."!==t.buffer[i-2]?t.buffer[i-2]+e:"0"+e):e="00"+e,new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]").test(e)}}},onUnMask:function(e,t,i){return e},inputmode:"numeric"},email:{mask:"*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]",greedy:!1,casing:"lower",onBeforePaste:function(e,t){return(e=e.toLowerCase()).replace("mailto:","")},definitions:{"*":{validator:"[0-9１-９A-Za-zА-яЁёÀ-ÿµ!#$%&'*+/=?^_`{|}~-]"},"-":{validator:"[0-9A-Za-z-]"}},onUnMask:function(e,t,i){return e},inputmode:"email"},mac:{mask:"##:##:##:##:##:##"},vin:{mask:"V{13}9{4}",definitions:{V:{validator:"[A-HJ-NPR-Za-hj-npr-z\\d]",casing:"upper"}},clearIncomplete:!0,autoUnmask:!0}}),t},n=[i(0),i(1)],void 0===(a="function"==typeof(s=o)?s.apply(t,n):s)||(e.exports=a)},function(e,t,i){"use strict";var s,n,a,o;"function"==typeof Symbol&&Symbol.iterator,o=function(e,t,i){function s(e,i){for(var s="",n=0;n<e.length;n++)t.prototype.definitions[e.charAt(n)]||i.definitions[e.charAt(n)]||i.optionalmarker.start===e.charAt(n)||i.optionalmarker.end===e.charAt(n)||i.quantifiermarker.start===e.charAt(n)||i.quantifiermarker.end===e.charAt(n)||i.groupmarker.start===e.charAt(n)||i.groupmarker.end===e.charAt(n)||i.alternatormarker===e.charAt(n)?s+="\\"+e.charAt(n):s+=e.charAt(n);return s}return t.extendAliases({numeric:{mask:function(e){if(0!==e.repeat&&isNaN(e.integerDigits)&&(e.integerDigits=e.repeat),e.repeat=0,e.groupSeparator===e.radixPoint&&e.digits&&"0"!==e.digits&&("."===e.radixPoint?e.groupSeparator=",":","===e.radixPoint?e.groupSeparator=".":e.groupSeparator="")," "===e.groupSeparator&&(e.skipOptionalPartCharacter=i),e.autoGroup=e.autoGroup&&""!==e.groupSeparator,e.autoGroup&&("string"==typeof e.groupSize&&isFinite(e.groupSize)&&(e.groupSize=parseInt(e.groupSize)),isFinite(e.integerDigits))){var t=Math.floor(e.integerDigits/e.groupSize),n=e.integerDigits%e.groupSize;e.integerDigits=parseInt(e.integerDigits)+(0===n?t-1:t),e.integerDigits<1&&(e.integerDigits="*")}e.placeholder.length>1&&(e.placeholder=e.placeholder.charAt(0)),"radixFocus"===e.positionCaretOnClick&&""===e.placeholder&&!1===e.integerOptional&&(e.positionCaretOnClick="lvp"),e.definitions[";"]=e.definitions["~"],e.definitions[";"].definitionSymbol="~",!0===e.numericInput&&(e.positionCaretOnClick="radixFocus"===e.positionCaretOnClick?"lvp":e.positionCaretOnClick,e.digitsOptional=!1,isNaN(e.digits)&&(e.digits=2),e.decimalProtect=!1);var a="[+]";if(a+=s(e.prefix,e),!0===e.integerOptional?a+="~{1,"+e.integerDigits+"}":a+="~{"+e.integerDigits+"}",e.digits!==i){var o=e.decimalProtect?":":e.radixPoint,r=e.digits.toString().split(",");isFinite(r[0])&&r[1]&&isFinite(r[1])?a+=o+";{"+e.digits+"}":(isNaN(e.digits)||parseInt(e.digits)>0)&&(e.digitsOptional?a+="["+o+";{1,"+e.digits+"}]":a+=o+";{"+e.digits+"}")}return a+=s(e.suffix,e),a+="[-]",e.greedy=!1,a},placeholder:"",greedy:!1,digits:"*",digitsOptional:!0,enforceDigitsOnBlur:!1,radixPoint:".",positionCaretOnClick:"radixFocus",groupSize:3,groupSeparator:"",autoGroup:!1,allowMinus:!0,negationSymbol:{front:"-",back:""},integerDigits:"+",integerOptional:!0,prefix:"",suffix:"",rightAlign:!0,decimalProtect:!0,min:null,max:null,step:1,insertMode:!0,autoUnmask:!1,unmaskAsNumber:!1,inputmode:"numeric",preValidation:function(t,s,n,a,o,r){if("-"===n||n===o.negationSymbol.front)return!0===o.allowMinus&&(o.isNegative=o.isNegative===i||!o.isNegative,""===t.join("")||{caret:s,dopost:!0});if(!1===a&&n===o.radixPoint&&o.digits!==i&&(isNaN(o.digits)||parseInt(o.digits)>0)){var l=e.inArray(o.radixPoint,t);if(-1!==l&&r.validPositions[l]!==i)return!0===o.numericInput?s===l:{caret:l+1}}return!0},postValidation:function(s,n,a){var o=a.suffix.split(""),r=a.prefix.split("");if(n.pos===i&&n.caret!==i&&!0!==n.dopost)return n;var l=n.caret!==i?n.caret:n.pos,c=s.slice();a.numericInput&&(l=c.length-l-1,c=c.reverse());var d=c[l];if(d===a.groupSeparator&&(d=c[l+=1]),l===c.length-a.suffix.length-1&&d===a.radixPoint)return n;d!==i&&d!==a.radixPoint&&d!==a.negationSymbol.front&&d!==a.negationSymbol.back&&(c[l]="?",a.prefix.length>0&&l>=(!1===a.isNegative?1:0)&&l<a.prefix.length-1+(!1===a.isNegative?1:0)?r[l-(!1===a.isNegative?1:0)]="?":a.suffix.length>0&&l>=c.length-a.suffix.length-(!1===a.isNegative?1:0)&&(o[l-(c.length-a.suffix.length-(!1===a.isNegative?1:0))]="?")),r=r.join(""),o=o.join("");var u=c.join("").replace(r,"");if(u=(u=(u=(u=u.replace(o,"")).replace(new RegExp(t.escapeRegex(a.groupSeparator),"g"),"")).replace(new RegExp("[-"+t.escapeRegex(a.negationSymbol.front)+"]","g"),"")).replace(new RegExp(t.escapeRegex(a.negationSymbol.back)+"$"),""),isNaN(a.placeholder)&&(u=u.replace(new RegExp(t.escapeRegex(a.placeholder),"g"),"")),u.length>1&&1!==u.indexOf(a.radixPoint)&&("0"===d&&(u=u.replace(/^\?/g,"")),u=u.replace(/^0/g,"")),u.charAt(0)===a.radixPoint&&""!==a.radixPoint&&!0!==a.numericInput&&(u="0"+u),""!==u){if(u=u.split(""),(!a.digitsOptional||a.enforceDigitsOnBlur&&"blur"===n.event)&&isFinite(a.digits)){var p=e.inArray(a.radixPoint,u),h=e.inArray(a.radixPoint,c);-1===p&&(u.push(a.radixPoint),p=u.length-1);for(var f=1;f<=a.digits;f++)a.digitsOptional&&(!a.enforceDigitsOnBlur||"blur"!==n.event)||u[p+f]!==i&&u[p+f]!==a.placeholder.charAt(0)?-1!==h&&c[h+f]!==i&&(u[p+f]=u[p+f]||c[h+f]):u[p+f]=n.placeholder||a.placeholder.charAt(0)}if(!0!==a.autoGroup||""===a.groupSeparator||d===a.radixPoint&&n.pos===i&&!n.dopost)u=u.join("");else{var m=u[u.length-1]===a.radixPoint&&n.c===a.radixPoint;u=t(function(e,t){var i="";if(i+="("+t.groupSeparator+"*{"+t.groupSize+"}){*}",""!==t.radixPoint){var s=e.join("").split(t.radixPoint);s[1]&&(i+=t.radixPoint+"*{"+s[1].match(/^\d*\??\d*/)[0].length+"}")}return i}(u,a),{numericInput:!0,jitMasking:!0,definitions:{"*":{validator:"[0-9?]",cardinality:1}}}).format(u.join("")),m&&(u+=a.radixPoint),u.charAt(0)===a.groupSeparator&&u.substr(1)}}if(a.isNegative&&"blur"===n.event&&(a.isNegative="0"!==u),u=r+u,u+=o,a.isNegative&&(u=a.negationSymbol.front+u,u+=a.negationSymbol.back),u=u.split(""),d!==i)if(d!==a.radixPoint&&d!==a.negationSymbol.front&&d!==a.negationSymbol.back)(l=e.inArray("?",u))>-1?u[l]=d:l=n.caret||0;else if(d===a.radixPoint||d===a.negationSymbol.front||d===a.negationSymbol.back){var g=e.inArray(d,u);-1!==g&&(l=g)}a.numericInput&&(l=u.length-l-1,u=u.reverse());var v={caret:d===i||n.pos!==i?l+(a.numericInput?-1:1):l,buffer:u,refreshFromBuffer:n.dopost||s.join("")!==u.join("")};return v.refreshFromBuffer?v:n},onBeforeWrite:function(s,n,a,o){if(s)switch(s.type){case"keydown":return o.postValidation(n,{caret:a,dopost:!0},o);case"blur":case"checkval":var r;if((l=o).parseMinMaxOptions===i&&(null!==l.min&&(l.min=l.min.toString().replace(new RegExp(t.escapeRegex(l.groupSeparator),"g"),""),","===l.radixPoint&&(l.min=l.min.replace(l.radixPoint,".")),l.min=isFinite(l.min)?parseFloat(l.min):NaN,isNaN(l.min)&&(l.min=Number.MIN_VALUE)),null!==l.max&&(l.max=l.max.toString().replace(new RegExp(t.escapeRegex(l.groupSeparator),"g"),""),","===l.radixPoint&&(l.max=l.max.replace(l.radixPoint,".")),l.max=isFinite(l.max)?parseFloat(l.max):NaN,isNaN(l.max)&&(l.max=Number.MAX_VALUE)),l.parseMinMaxOptions="done"),null!==o.min||null!==o.max){if(r=o.onUnMask(n.join(""),i,e.extend({},o,{unmaskAsNumber:!0})),null!==o.min&&r<o.min)return o.isNegative=o.min<0,o.postValidation(o.min.toString().replace(".",o.radixPoint).split(""),{caret:a,dopost:!0,placeholder:"0"},o);if(null!==o.max&&r>o.max)return o.isNegative=o.max<0,o.postValidation(o.max.toString().replace(".",o.radixPoint).split(""),{caret:a,dopost:!0,placeholder:"0"},o)}return o.postValidation(n,{caret:a,placeholder:"0",event:"blur"},o);case"_checkval":return{caret:a}}var l},regex:{integerPart:function(e,i){return i?new RegExp("["+t.escapeRegex(e.negationSymbol.front)+"+]?"):new RegExp("["+t.escapeRegex(e.negationSymbol.front)+"+]?\\d+")},integerNPart:function(e){return new RegExp("[\\d"+t.escapeRegex(e.groupSeparator)+t.escapeRegex(e.placeholder.charAt(0))+"]+")}},definitions:{"~":{validator:function(e,s,n,a,o,r){var l=a?new RegExp("[0-9"+t.escapeRegex(o.groupSeparator)+"]").test(e):new RegExp("[0-9]").test(e);if(!0===l){if(!0!==o.numericInput&&s.validPositions[n]!==i&&"~"===s.validPositions[n].match.def&&!r){var c=s.buffer.join(""),d=(c=(c=c.replace(new RegExp("[-"+t.escapeRegex(o.negationSymbol.front)+"]","g"),"")).replace(new RegExp(t.escapeRegex(o.negationSymbol.back)+"$"),"")).split(o.radixPoint);d.length>1&&(d[1]=d[1].replace(/0/g,o.placeholder.charAt(0))),"0"===d[0]&&(d[0]=d[0].replace(/0/g,o.placeholder.charAt(0))),c=d[0]+o.radixPoint+d[1]||"";var u=s._buffer.join("");for(c===o.radixPoint&&(c=u);null===c.match(t.escapeRegex(u)+"$");)u=u.slice(1);l=(c=(c=c.replace(u,"")).split(""))[n]===i?{pos:n,remove:n}:{pos:n}}}else a||e!==o.radixPoint||s.validPositions[n-1]!==i||(l={insert:{pos:n,c:0},pos:n+1});return l},cardinality:1},"+":{validator:function(e,t,i,s,n){return n.allowMinus&&("-"===e||e===n.negationSymbol.front)},cardinality:1,placeholder:""},"-":{validator:function(e,t,i,s,n){return n.allowMinus&&e===n.negationSymbol.back},cardinality:1,placeholder:""},":":{validator:function(e,i,s,n,a){var o="["+t.escapeRegex(a.radixPoint)+"]",r=new RegExp(o).test(e);return r&&i.validPositions[s]&&i.validPositions[s].match.placeholder===a.radixPoint&&(r={caret:s+1}),r},cardinality:1,placeholder:function(e){return e.radixPoint}}},onUnMask:function(e,i,s){if(""===i&&!0===s.nullable)return i;var n=e.replace(s.prefix,"");return n=(n=n.replace(s.suffix,"")).replace(new RegExp(t.escapeRegex(s.groupSeparator),"g"),""),""!==s.placeholder.charAt(0)&&(n=n.replace(new RegExp(s.placeholder.charAt(0),"g"),"0")),s.unmaskAsNumber?(""!==s.radixPoint&&-1!==n.indexOf(s.radixPoint)&&(n=n.replace(t.escapeRegex.call(this,s.radixPoint),".")),n=(n=n.replace(new RegExp("^"+t.escapeRegex(s.negationSymbol.front)),"-")).replace(new RegExp(t.escapeRegex(s.negationSymbol.back)+"$"),""),Number(n)):n},isComplete:function(e,i){var s=e.join("");if(e.slice().join("")!==s)return!1;var n=s.replace(i.prefix,"");return n=(n=n.replace(i.suffix,"")).replace(new RegExp(t.escapeRegex(i.groupSeparator)+"([0-9]{3})","g"),"$1"),","===i.radixPoint&&(n=n.replace(t.escapeRegex(i.radixPoint),".")),isFinite(n)},onBeforeMask:function(e,s){if(s.isNegative=i,"number"==typeof e&&""!==s.radixPoint&&(e=e.toString().replace(".",s.radixPoint)),e=e.toString().charAt(e.length-1)===s.radixPoint?e.toString().substr(0,e.length-1):e.toString(),""!==s.radixPoint&&isFinite(e)){var n=e.split("."),a=""!==s.groupSeparator?parseInt(s.groupSize):0;2===n.length&&(n[0].length>a||n[1].length>a||n[0].length<=a&&n[1].length<a)&&(e=e.replace(".",s.radixPoint))}var o=e.match(/,/g),r=e.match(/\./g);if(e=r&&o?r.length>o.length?(e=e.replace(/\./g,"")).replace(",",s.radixPoint):o.length>r.length?(e=e.replace(/,/g,"")).replace(".",s.radixPoint):e.indexOf(".")<e.indexOf(",")?e.replace(/\./g,""):e.replace(/,/g,""):e.replace(new RegExp(t.escapeRegex(s.groupSeparator),"g"),""),0===s.digits&&(-1!==e.indexOf(".")?e=e.substring(0,e.indexOf(".")):-1!==e.indexOf(",")&&(e=e.substring(0,e.indexOf(",")))),""!==s.radixPoint&&isFinite(s.digits)&&-1!==e.indexOf(s.radixPoint)){var l=e.split(s.radixPoint)[1].match(new RegExp("\\d*"))[0];if(parseInt(s.digits)<l.toString().length){var c=Math.pow(10,parseInt(s.digits));e=e.replace(t.escapeRegex(s.radixPoint),"."),e=(e=Math.round(parseFloat(e)*c)/c).toString().replace(".",s.radixPoint)}}return e},onKeyDown:function(i,s,n,a){var o=e(this);if(i.ctrlKey)switch(i.keyCode){case t.keyCode.UP:o.val(parseFloat(this.inputmask.unmaskedvalue())+parseInt(a.step)),o.trigger("setvalue");break;case t.keyCode.DOWN:o.val(parseFloat(this.inputmask.unmaskedvalue())-parseInt(a.step)),o.trigger("setvalue")}}},currency:{prefix:"$ ",groupSeparator:",",alias:"numeric",placeholder:"0",autoGroup:!0,digits:2,digitsOptional:!1,clearMaskOnLostFocus:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:0,radixPoint:""},percentage:{alias:"numeric",digits:2,digitsOptional:!0,radixPoint:".",placeholder:"0",autoGroup:!1,min:0,max:100,suffix:" %",allowMinus:!1}}),t},n=[i(0),i(1)],void 0===(a="function"==typeof(s=o)?s.apply(t,n):s)||(e.exports=a)},function(e,t,i){"use strict";var s,n,a,o;"function"==typeof Symbol&&Symbol.iterator,o=function(e,t){function i(e,t){var i=(e.mask||e).replace(/#/g,"0").replace(/\)/,"0").replace(/[+()#-]/g,""),s=(t.mask||t).replace(/#/g,"0").replace(/\)/,"0").replace(/[+()#-]/g,"");return i.localeCompare(s)}var s=t.prototype.analyseMask;return t.prototype.analyseMask=function(t,i,n){var a={};return n.phoneCodes&&(n.phoneCodes&&n.phoneCodes.length>1e3&&(function e(i,s,n){s=s||"",n=n||a,""!==s&&(n[s]={});for(var o="",r=n[s]||n,l=i.length-1;l>=0;l--)r[o=(t=i[l].mask||i[l]).substr(0,1)]=r[o]||[],r[o].unshift(t.substr(1)),i.splice(l,1);for(var c in r)r[c].length>500&&e(r[c].slice(),c,r)}((t=t.substr(1,t.length-2)).split(n.groupmarker[1]+n.alternatormarker+n.groupmarker[0])),t=function t(i){var s="",a=[];for(var o in i)e.isArray(i[o])?1===i[o].length?a.push(o+i[o]):a.push(o+n.groupmarker[0]+i[o].join(n.groupmarker[1]+n.alternatormarker+n.groupmarker[0])+n.groupmarker[1]):a.push(o+t(i[o]));return 1===a.length?s+=a[0]:s+=n.groupmarker[0]+a.join(n.groupmarker[1]+n.alternatormarker+n.groupmarker[0])+n.groupmarker[1],s}(a)),t=t.replace(/9/g,"\\9")),s.call(this,t,i,n)},t.extendAliases({abstractphone:{groupmarker:["<",">"],countrycode:"",phoneCodes:[],keepStatic:"auto",mask:function(e){return e.definitions={"#":t.prototype.definitions[9]},e.phoneCodes.sort(i)},onBeforeMask:function(e,t){var i=e.replace(/^0{1,2}/,"").replace(/[\s]/g,"");return(i.indexOf(t.countrycode)>1||-1===i.indexOf(t.countrycode))&&(i="+"+t.countrycode+i),i},onUnMask:function(e,t,i){return e.replace(/[()#-]/g,"")},inputmode:"tel"}}),t},n=[i(0),i(1)],void 0===(a="function"==typeof(s=o)?s.apply(t,n):s)||(e.exports=a)},function(e,t,i){"use strict";var s,n,a,o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};o=function(e,t){return void 0===e.fn.inputmask&&(e.fn.inputmask=function(i,s){var n,a=this[0];if(void 0===s&&(s={}),"string"==typeof i)switch(i){case"unmaskedvalue":return a&&a.inputmask?a.inputmask.unmaskedvalue():e(a).val();case"remove":return this.each(function(){this.inputmask&&this.inputmask.remove()});case"getemptymask":return a&&a.inputmask?a.inputmask.getemptymask():"";case"hasMaskedValue":return!(!a||!a.inputmask)&&a.inputmask.hasMaskedValue();case"isComplete":return!a||!a.inputmask||a.inputmask.isComplete();case"getmetadata":return a&&a.inputmask?a.inputmask.getmetadata():void 0;case"setvalue":t.setValue(a,s);break;case"option":if("string"!=typeof s)return this.each(function(){if(void 0!==this.inputmask)return this.inputmask.option(s)});if(a&&void 0!==a.inputmask)return a.inputmask.option(s);break;default:return s.alias=i,n=new t(s),this.each(function(){n.mask(this)})}else{if("object"==(void 0===i?"undefined":r(i)))return n=new t(i),void 0===i.mask&&void 0===i.alias?this.each(function(){if(void 0!==this.inputmask)return this.inputmask.option(i);n.mask(this)}):this.each(function(){n.mask(this)});if(void 0===i)return this.each(function(){(n=new t(s)).mask(this)})}}),e.fn.inputmask},n=[i(2),i(1)],void 0===(a="function"==typeof(s=o)?s.apply(t,n):s)||(e.exports=a)}]),e=function(e){return e.extendAliases({phone:{alias:"abstractphone",phoneCodes:[{mask:"+375(##)###-##-##",cc:"BY",cd:"Belarus",desc_en:"",name_ru:"Беларусь (Белоруссия)",desc_ru:""},{mask:"+7(###)###-##-##",cc:"RU",cd:"Russia",desc_en:"",name_ru:"Россия",desc_ru:""}]}}),e},"function"==typeof define&&define.amd?define(["../inputmask"],e):"object"==typeof exports?module.exports=e(require("../inputmask")):e(window.Inputmask)}),ready(function(){var e,t,i="/api/oauth/token",s="/api/pupils/register",n="/api/oauth/requestPassword",a=/^(([^<>()\[\]\\.,;:\s@\"]+(\.[^<>()\[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,o=new function(){var e=$("#signInView"),t=!1,n=!1;function l(){var e={};t=!0,u()&&($("#userNotFoundError").removeClass("visibleView").addClass("hiddenView"),e={grant_type:"password",username:$("#loginEmailInput").val().toLowerCase(),password:$("#loginPassInput").val()},h(i,e))}function c(){var e;n=!0,(e=d()).email&&h(s,e)}function d(){var e={},t=$("#registerEmailInput"),i=t.parent(".form-input-group"),s=t.val(),o=$("#registerPassInput"),r=o.parent(".form-input-group"),l=o.val(),c=$("#registerPassConfirmInput"),d=c.parent(".form-input-group"),u=c.val();return n&&(i.removeClass("has-error"),r.removeClass("has-error"),d.removeClass("has-error"),0===l.length?r.addClass("has-error").addClass("error-required"):r.removeClass("error-required"),0!==l.length&&l.length<8?r.addClass("has-error").addClass("error-minlength"):r.removeClass("error-minlength"),l.length>100?r.addClass("has-error").addClass("error-maxlength"):r.removeClass("error-maxlength"),0===u.length?d.addClass("has-error").addClass("error-required"):d.removeClass("error-required"),u.length>0&&l.length>0&&u!==l?d.addClass("has-error").addClass("error-characters"):d.removeClass("error-characters"),0===s.length?i.addClass("has-error").addClass("error-required"):i.removeClass("error-required"),s.length>100?i.addClass("has-error").addClass("error-maxlength"):i.removeClass("error-maxlength"),s.length>0&&s.length<100&&!a.test(s)?i.addClass("has-error").addClass("error-characters"):i.removeClass("error-characters"),captchaValidator(window.signInCaptcha,"#signInCaptcha"),0===$("#registerForm .has-error").length&&(e={email:s.toLowerCase(),password:l})),e}function u(){var e=!1;if(t){var i=$("#loginEmailInput");0===i.val().length?(i.parent(".form-input-group").addClass("has-error"),e=!0):i.parent(".form-input-group").removeClass("has-error");var s=$("#loginPassInput");0===s.val().length?(s.parent(".form-input-group").addClass("has-error"),e=!0):s.parent(".form-input-group").removeClass("has-error");var n=$("#loginBtn");e?n.attr("disabled",!0):n.attr("disabled",!1)}return!e}function h(e,t){$("#userExistsError").removeClass("visibleView").addClass("hiddenView"),y(),$.ajax({url:e,method:"POST",data:t,statusCode:{200:function(e){var i;"registered"===e.message?(C(),i=t.email,$("#registeredMessage").removeClass("hiddenView").addClass("visibleView"),$("#userMail").text(i),$("#registerInputs").removeClass("visibleView").addClass("hiddenView")):(p.login(e.access_token,e.refresh_token),o.hide(),v())},401:function(){$(document).trigger("lyceum:needReload")},403:function(e){'{"error":"invalid_grant","error_description":"Invalid resource owner credentials"}'===e.responseText&&(C(),$("#loginPassInput").val(""),$("#userNotFoundError").removeClass("hiddenView").addClass("visibleView")),"email exists"===e.responseJSON.message&&(C(),$("#userExistsError").removeClass("hiddenView").addClass("visibleView"))}}})}this.show=function(){e.removeClass("hiddenView").addClass("visibleView"),window.signInCaptcha&&window.grecaptcha&&grecaptcha.reset(signInCaptcha);C()},this.hide=function(){e.removeClass("visibleView").addClass("hiddenView"),$("#userExistsError").removeClass("visibleView").addClass("hiddenView"),C()},$(document).on("click","#loginBtn",l),$(document).on("click","#registerBtn",c),$(document).on("keyup","#loginForm .form-input",function(e){13===e.keyCode?l():u()}),$(document).on("keyup","#registerForm .form-input",function(e){13===e.keyCode?c():d()}),$(document).on("click",".requestPasswordView",function(e){e.preventDefault(),o.hide(),r.show()})},r=new function(){var e=$("#passRequestView");function t(){var e=$("#passEmail"),t=e.parent().removeClass("has-error"),i=e.val();return 0===i.length?t.addClass("has-error").addClass("error-required"):t.removeClass("error-required"),i.length>100?t.addClass("has-error").addClass("error-maxlength"):t.removeClass("error-maxlength"),i.length>0&&i.length<100&&!a.test(i)?t.addClass("has-error").addClass("error-characters"):t.removeClass("error-characters"),!t.hasClass("has-error")}this.show=function(){window.requestCaptcha&&window.grecaptcha&&grecaptcha.reset(requestCaptcha);e.removeClass("hiddenView").addClass("visibleView"),$("#passReqNotFoundError").removeClass("visibleView").addClass("hiddenView"),$("#passReqFound").removeClass("visibleView").addClass("hiddenView"),$("#passReqForm").removeClass("hiddenView").addClass("visibleView"),$("#passEmail").val("")},this.hide=function(){e.removeClass("visibleView").addClass("hiddenView")},$(document).on("click","#requestPassBtn",function(){var e=captchaValidator(window.requestCaptcha,"#passCaptcha"),i=t();$("#passReqNotFoundError").removeClass("visibleView").addClass("hiddenView"),e&&i&&(y(),$.post(n,{mail:$("#passEmail").val().toLowerCase()}).done(function(e){e.error&&"user not found"===e.error&&$("#passReqNotFoundError").removeClass("hiddenView").addClass("visibleView"),e.error&&"error"===e.error&&$(document).trigger("lyceum:globalError"),"Email Sent"===e&&($("#passReqFound").removeClass("hiddenView").addClass("visibleView"),$("#passReqForm").removeClass("visibleView").addClass("hiddenView")),C()}).fail(function(){$(document).trigger("lyceum:globalError"),C()}))}),$(document).on("click","#requestCancelBtn",function(){o.show(),r.hide()}),$(document).on("click","#returnToLogin",function(e){e.preventDefault(),o.show(),r.hide()}),$(document).on("keyup","#passEmail",t)},l=new function(){var e=$("#userView");this.show=function(t){e.html(t).removeClass("hiddenView").addClass("visibleView"),C()},this.hide=function(){e.removeClass("visibleView").addClass("hiddenView"),C()}};window.pupilViews={},window.loadingStart=y,window.loadingEnd=C;var c,d,u,p=new jqOAuth({events:{login:function(){},logout:function(){},tokenExpiration:function(){return $.post(i,{grant_type:"refresh_token",refresh_token:p.data.refreshToken}).done(function(e){p.setAccessToken(e.access_token,e.refresh_token)}).fail(function(){o.show(),l.hide()})}}}),h=document.getElementById("settingsDialog"),f=document.getElementById("snackbar"),m=document.getElementById("pupilSettingsDialog"),g=document.getElementById("sendRequestDialog");function v(){h.opened&&E(),g.opened&&b(),m.opened&&k(),$.get("/api/pupils/userInfo").done(function(e){o.hide(),l.show(e),t=$("#pupilSettingsDialogContent").detach()}).fail(function(){o.show(),l.hide()})}function _(){var t={};if("password"===e){var i=$("#pupilPassword"),s=$("#pupilPasswordConfirm"),n=i.val(),a=s.val(),o=i.parent(),r=s.parent();o.removeClass("has-error"),r.removeClass("has-error"),0===n.length?o.addClass("has-error").addClass("error-required"):o.removeClass("error-required"),0!==n.length&&n.length<8?o.addClass("has-error").addClass("error-minlength"):o.removeClass("error-minlength"),n.length>100?o.addClass("has-error").addClass("error-maxlength"):o.removeClass("error-maxlength"),0===a.length?r.addClass("has-error").addClass("error-required"):r.removeClass("error-required"),a.length>0&&n.length>0&&a!==n?r.addClass("has-error").addClass("error-characters"):r.removeClass("error-characters"),0===$("#pupilSettingsDialog .has-error").length&&(t={password:n})}return t}function y(){h.opened||m.opened||g.opened?$(".cs-loader").not(".page-loader").addClass("loading-start"):$(".cs-loader").addClass("loading-start")}function C(){$(".cs-loader").removeClass("loading-start")}function E(){h.opened=!1,$("#settingsDialog").removeClass("dialog-scale"),h.close(),clearTimeout(c)}function b(){g.opened=!1,$("#sendRequestDialog").removeClass("dialog-scale"),g.close(),clearTimeout(u)}function k(){m.opened=!1,$("#pupilSettingsDialog").removeClass("dialog-scale"),m.close(),clearTimeout(d)}$(document).on("lyceum:dataready",function(){componentHandler.upgradeAllRegistered()}),$(document).on("lyceum:needReload",v),$(document).on("lyceum:logout",function(){p.logout(),window.location.reload()}),$(document).on("lyceum:globalError",function(){$(document).trigger("lyceum:showNotification","Произошла ошибка. Что-то пошло не так!"),console.log("GLOBAL ERROR")}),$(document).on("lyceum:openDialog",function(e,t){h.opened=!0,$(".modal-settings-container").html(t),$(".dropify").dropify(),h.showModal(),c=setTimeout(function(){$("#settingsDialog").addClass("dialog-scale"),componentHandler.upgradeAllRegistered()},.5)}),$(document).on("lyceum:openRequestDialog",function(){var e=$("#rulesContainer"),t=$("#saveRequest"),i=$("#rulesOk"),s=$("#rulesOkLabel"),n=$("#rulesOkHelp");g.opened=!0,g.scrolledToBottom=!1,e.off("scroll"),t.attr("disabled",!0),s.addClass("is-disabled"),n.removeClass("hiddenView").addClass("visibleView"),i.attr("disabled",!0),document.querySelector("#rulesOkLabel").MaterialCheckbox.uncheck(),g.showModal(),e.animate({scrollTop:0},0),u=setTimeout(function(){$("#sendRequestDialog").addClass("dialog-scale")},.5),e.on("scroll",function(){$(this).scrollTop()+500 + 40>=$('#rulesContent').height()&&(g.scrolledToBottom=!0,t.attr("disabled",!1),i.attr("disabled",!1),s.removeClass("is-disabled"),n.removeClass("visibleView").addClass("hiddenView"),e.off("scroll"))})}),$(document).on("lyceum:openSettingsDialog",function(e,t){m.opened=!0,$(".modal-pupil-settings-container").html(t),m.showModal(),d=setTimeout(function(){$("#pupilSettingsDialog").addClass("dialog-scale"),componentHandler.upgradeAllRegistered()},.5)}),$(document).on("lyceum:showNotification",function(e,t){var i={message:t,timeout:2e3};f.MaterialSnackbar.showSnackbar(i)}),$(document).on("click","#settingsDialog .close-dialog",E),$(document).on("click","#sendRequestDialog .close-dialog",b),$(document).on("click","#pupilSettingsDialog .close-dialog",k),$(document).on("click","#savePupilSettings",function(){if("password"===e){var t=_();t.password&&(i=t,$.ajax({url:"/api/pupils/password",method:"POST",data:i,statusCode:{200:function(e){"ok"===e.message&&$(document).trigger("lyceum:needReload")},401:function(){$(document).trigger("lyceum:needReload")},403:function(e){'{"error":"invalid_grant","error_description":"Invalid resource owner credentials"}'===e.responseText&&(C(),$("#loginPassInput").val(""),showUserNotFoundError()),"email exists"===e.responseJSON.message&&(C(),showNameExistsError())}}}))}var i}),$(document).on("click",".settings-list-item.pupil-settingd",function(i){i.preventDefault(),i.stopPropagation(),"logout"===(e=$(i.currentTarget).attr("href"))?$(document).trigger("lyceum:logout"):$(document).trigger("lyceum:openSettingsDialog",t.find("#"+e).html())}),$(document).on("keyup","#pupilSettingsDialog .form-input",_),function(){h.opened=!1,h.showModal||dialogPolyfill.registerDialog(h);g.opened=!1,g.showModal||dialogPolyfill.registerDialog(g);m.opened=!1,m.showModal||dialogPolyfill.registerDialog(m)}(),v()});