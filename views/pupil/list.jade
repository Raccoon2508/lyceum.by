extends ../adminLayout

block content
    div.page-header
        h1 Список абитуриентов
    div(ng-app="pupilApp", ng-controller="pupilController as app")
        div(grid-data, grid-options="app.gridOptions", grid-actions="app.gridActions", server-pagination="true")
            div.row
                .col.col-md-3
                    span.items {{filtered.length}} items total
                .col.col-md-9.text-right
                    form.form-inline.pull-right.margin-bottom-basic
                        .form-group
                            grid-pagination.pagination-sm(max-size="5", boundary-links="true", total-items="paginationOptions.totalItems", ng-model="paginationOptions.currentPage", ng-change="reloadGrid()", items-per-page="paginationOptions.itemsPerPage")
                        .form-group.items-per-page
                            label(for="itemsOnPageSelect1") Items per page:
                            select#itemsOnPageSelect1.form-control.input-sm(ng-init="paginationOptions.itemsPerPage = '10'", ng-model="paginationOptions.itemsPerPage", ng-change="reloadGrid()")
                                option 2
                                option 30
                                option 50
                                option 100
                                option 500
                                option 1000
                                option 2000
                                option 3000
            table.table.table-hover.table-striped
                thead
                    tr
                        th.sortable(sortable="firstName") firstName&nbsp;
                        th.sortable(sortable="lastName") lastName&nbsp;
                        th.sortable(sortable="parentName") parentName&nbsp;
                        th.sortable(sortable="email") email&nbsp;
                        th.sortable(sortable="region") region&nbsp;
                        th.sortable(sortable="night") ВЛ&nbsp;
                        th.sortable(sortable="distant") ДК&nbsp;
                        th.sortable(sortable="status") status&nbsp;
                        th.sortable(sortable="created") created&nbsp;
                        th.sortable(sortable="profile") profile&nbsp;
                        th.sortable(sortable="passOlymp") БЭ&nbsp;
                        th.sortable(sortable="exam1") Э-1&nbsp;
                        th.sortable(sortable="exam2") Э-2&nbsp;
                        th.sortable(sortable="sum") Сумма&nbsp;
                        th
                tbody
                    tr(grid-item)
                        td {{item.firstName}}
                        td {{item.lastName}}
                        td {{item.parentName}}
                        td {{item.email}}
                        td {{item.region}}
                        td {{item.night}}
                        td {{item.distant}}
                        td {{item.status}}
                        td {{item.created | date:'dd-MM-yy HH:mm:ss'}}
                        td {{item.profile.name}}
                        td {{item.passOlymp ? 'БЭ' : ''}}
                        td {{item.exam1}}
                        td {{item.exam2}}
                        td {{item.sum}}
                        td
                            a(ng-href="{{'/admin/pupils/edit/' + item._id + app.location.path().replace('/', '?')}}") Edit

block scripts
    include ../stuff/adminPupilScriptBlock
    include pupilApp